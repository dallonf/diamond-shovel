(function(t,e,i){function n(t){throw t}function s(t){return function(){return t}}function r(r){function h(t,e,i){i&&e!==c.k.r(t)&&c.k.S(t,e),e!==c.k.r(t)&&c.a.va(t,"change")}var c=r!==void 0?r:{};c.b=function(t,e){for(var i=t.split("."),n=c,s=0;i.length-1>s;s++)n=n[i[s]];n[i[i.length-1]]=e},c.B=function(t,e,i){t[e]=i},c.version="2.1.0",c.b("version",c.version),c.a=new function(){function s(t,e){if("input"!==c.a.o(t)||!t.type||"click"!=e.toLowerCase())return u;var i=t.type;return"checkbox"==i||"radio"==i}var r=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,h={},d={};h[/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],h.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var p in h){var f=h[p];if(f.length)for(var g=0,m=f.length;m>g;g++)d[f[g]]=p}var v={propertychange:a},b=function(){for(var t=3,i=e.createElement("div"),n=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",n[0];);return t>4?t:o}();return{Ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],v:function(t,e){for(var i=0,n=t.length;n>i;i++)e(t[i])},j:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},ab:function(t,e,i){for(var n=0,s=t.length;s>n;n++)if(e.call(i,t[n]))return t[n];return l},ba:function(t,e){var i=c.a.j(t,e);i>=0&&t.splice(i,1)},za:function(t){for(var t=t||[],e=[],i=0,n=t.length;n>i;i++)0>c.a.j(e,t[i])&&e.push(t[i]);return e},T:function(t,e){for(var t=t||[],i=[],n=0,s=t.length;s>n;n++)i.push(e(t[n]));return i},aa:function(t,e){for(var t=t||[],i=[],n=0,s=t.length;s>n;n++)e(t[n])&&i.push(t[n]);return i},N:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var i=0,n=e.length;n>i;i++)t.push(e[i]);return t},extend:function(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},ga:function(t){for(;t.firstChild;)c.removeNode(t.firstChild)},Ab:function(t){for(var t=c.a.L(t),i=e.createElement("div"),n=0,s=t.length;s>n;n++)c.F(t[n]),i.appendChild(t[n]);return i},X:function(t,e){if(c.a.ga(t),e)for(var i=0,n=e.length;n>i;i++)t.appendChild(e[i])},Na:function(t,e){var i=t.nodeType?[t]:t;if(i.length>0){for(var n=i[0],s=n.parentNode,r=0,o=e.length;o>r;r++)s.insertBefore(e[r],n);for(r=0,o=i.length;o>r;r++)c.removeNode(i[r])}},Pa:function(t,e){0>i.userAgent.indexOf("MSIE 6")?t.selected=e:t.setAttribute("selected",e)},w:function(t){return(t||"").replace(r,"")},Ib:function(t,e){for(var i=[],n=(t||"").split(e),s=0,r=n.length;r>s;s++){var o=c.a.w(n[s]);""!==o&&i.push(o)}return i},Hb:function(t,e){return t=t||"",e.length>t.length?u:t.substring(0,e.length)===e},eb:function(t,e){for(var i="return ("+t+")",n=0;e>n;n++)i="with(sc["+n+"]) { "+i+" } ";return Function("sc",i)},kb:function(t,e){if(e.compareDocumentPosition)return 16==(e.compareDocumentPosition(t)&16);for(;t!=l;){if(t==e)return a;t=t.parentNode}return u},fa:function(t){return c.a.kb(t,t.ownerDocument)},o:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(t,e,i){var r=b&&v[e];if(r||"undefined"==typeof jQuery)r||"function"!=typeof t.addEventListener?t.attachEvent!==void 0?t.attachEvent("on"+e,function(e){i.call(t,e)}):n(Error("Browser doesn't support addEventListener or attachEvent")):t.addEventListener(e,i,u);else{if(s(t,e))var o=i,i=function(t,e){var i=this.checked;e&&(this.checked=e.fb!==a),o.call(this,t),this.checked=i};jQuery(t).bind(e,i)}},va:function(i,r){if((!i||!i.nodeType)&&n(Error("element must be a DOM node when calling triggerEvent")),"undefined"!=typeof jQuery){var o=[];s(i,r)&&o.push({fb:i.checked}),jQuery(i).trigger(r,o)}else"function"==typeof e.createEvent?"function"==typeof i.dispatchEvent?(o=e.createEvent(d[r]||"HTMLEvents"),o.initEvent(r,a,a,t,0,0,0,0,0,u,u,u,u,0,i),i.dispatchEvent(o)):n(Error("The supplied element doesn't support dispatchEvent")):i.fireEvent!==void 0?(s(i,r)&&(i.checked=i.checked!==a),i.fireEvent("on"+r)):n(Error("Browser doesn't support triggering events"))},d:function(t){return c.la(t)?t():t},Ua:function(t,e,i){var n=(t.className||"").split(/\s+/),s=c.a.j(n,e)>=0;if(i&&!s)t.className+=(n[0]?" ":"")+e;else if(s&&!i){for(i="",s=0;n.length>s;s++)n[s]!=e&&(i+=n[s]+" ");t.className=c.a.w(i)}},Qa:function(t,e){var i=c.a.d(e);(i===l||i===o)&&(i=""),"innerText"in t?t.innerText=i:t.textContent=i,b>=9&&(t.style.display=t.style.display)},lb:function(t){if(b>=9){var e=t.style.width;t.style.width=0,t.style.width=e}},Eb:function(t,e){for(var t=c.a.d(t),e=c.a.d(e),i=[],n=t;e>=n;n++)i.push(n);return i},L:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(t[i]);return e},tb:6===b,ub:7===b,ja:b,Da:function(t,e){for(var i=c.a.L(t.getElementsByTagName("input")).concat(c.a.L(t.getElementsByTagName("textarea"))),n="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},s=[],r=i.length-1;r>=0;r--)n(i[r])&&s.push(i[r]);return s},Bb:function(e){return"string"==typeof e&&(e=c.a.w(e))?t.JSON&&t.JSON.parse?t.JSON.parse(e):Function("return "+e)():l},sa:function(t,e,i){return("undefined"==typeof JSON||JSON.stringify===void 0)&&n(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(c.a.d(t),e,i)},Cb:function(t,i,n){var n=n||{},s=n.params||{},r=n.includeFields||this.Ca,o=t;if("object"==typeof t&&"form"===c.a.o(t))for(var o=t.action,a=r.length-1;a>=0;a--)for(var l=c.a.Da(t,r[a]),u=l.length-1;u>=0;u--)s[l[u].name]=l[u].value;var i=c.a.d(i),h=e.createElement("form");h.style.display="none",h.action=o,h.method="post";for(var d in i)t=e.createElement("input"),t.name=d,t.value=c.a.sa(c.a.d(i[d])),h.appendChild(t);for(d in s)t=e.createElement("input"),t.name=d,t.value=s[d],h.appendChild(t);e.body.appendChild(h),n.submitter?n.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}},c.b("utils",c.a),c.b("utils.arrayForEach",c.a.v),c.b("utils.arrayFirst",c.a.ab),c.b("utils.arrayFilter",c.a.aa),c.b("utils.arrayGetDistinctValues",c.a.za),c.b("utils.arrayIndexOf",c.a.j),c.b("utils.arrayMap",c.a.T),c.b("utils.arrayPushAll",c.a.N),c.b("utils.arrayRemoveItem",c.a.ba),c.b("utils.extend",c.a.extend),c.b("utils.fieldsIncludedWithJsonPost",c.a.Ca),c.b("utils.getFormFields",c.a.Da),c.b("utils.postJson",c.a.Cb),c.b("utils.parseJson",c.a.Bb),c.b("utils.registerEventHandler",c.a.n),c.b("utils.stringifyJson",c.a.sa),c.b("utils.range",c.a.Eb),c.b("utils.toggleDomNodeCssClass",c.a.Ua),c.b("utils.triggerEvent",c.a.va),c.b("utils.unwrapObservable",c.a.d),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=Array.prototype.slice.call(arguments),t=i.shift();return function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}}),c.a.f=new function(){var t=0,e="__ko__"+(new Date).getTime(),i={};return{get:function(t,e){var i=c.a.f.getAll(t,u);return i===o?o:i[e]},set:function(t,e,i){i===o&&c.a.f.getAll(t,u)===o||(c.a.f.getAll(t,a)[e]=i)},getAll:function(n,s){var r=n[e];if(!r||"null"===r){if(!s)return;r=n[e]="ko"+t++,i[r]={}}return i[r]},clear:function(t){var n=t[e];n&&(delete i[n],t[e]=l)}}},c.b("utils.domData",c.a.f),c.b("utils.domData.clear",c.a.f.clear),c.a.G=new function(){function t(t,e){var n=c.a.f.get(t,i);return n===o&&e&&(n=[],c.a.f.set(t,i,n)),n}function e(i){var n=t(i,u);if(n)for(var n=n.slice(0),s=0;n.length>s;s++)n[s](i);if(c.a.f.clear(i),"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([i]),r[i.nodeType])for(n=i.firstChild;i=n;)n=i.nextSibling,8===i.nodeType&&e(i)}var i="__ko_domNodeDisposal__"+(new Date).getTime(),s={1:a,8:a,9:a},r={1:a,9:a};return{wa:function(e,i){"function"!=typeof i&&n(Error("Callback must be a function")),t(e,a).push(i)},Ma:function(e,n){var s=t(e,u);s&&(c.a.ba(s,n),0==s.length&&c.a.f.set(e,i,o))},F:function(t){if(s[t.nodeType]&&(e(t),r[t.nodeType])){var i=[];c.a.N(i,t.getElementsByTagName("*"));for(var t=0,n=i.length;n>t;t++)e(i[t])}},removeNode:function(t){c.F(t),t.parentNode&&t.parentNode.removeChild(t)}}},c.F=c.a.G.F,c.removeNode=c.a.G.removeNode,c.b("cleanNode",c.F),c.b("removeNode",c.removeNode),c.b("utils.domNodeDisposal",c.a.G),c.b("utils.domNodeDisposal.addDisposeCallback",c.a.G.wa),c.b("utils.domNodeDisposal.removeDisposeCallback",c.a.G.Ma),function(){c.a.pa=function(i){var n;if("undefined"!=typeof jQuery){if((n=jQuery.clean([i]))&&n[0]){for(i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}}else{var s=c.a.w(i).toLowerCase();for(n=e.createElement("div"),s=s.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!s.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!s.indexOf("<td")||!s.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],i="ignored<div>"+s[1]+i+s[2]+"</div>","function"==typeof t.innerShiv?n.appendChild(t.innerShiv(i)):n.innerHTML=i;s[0]--;)n=n.lastChild;n=c.a.L(n.lastChild.childNodes)}return n},c.a.Y=function(t,e){if(c.a.ga(t),e!==l&&e!==o)if("string"!=typeof e&&(e+=""),"undefined"!=typeof jQuery)jQuery(t).html(e);else for(var i=c.a.pa(e),n=0;i.length>n;n++)t.appendChild(i[n])}}(),c.b("utils.parseHtmlFragment",c.a.pa),c.b("utils.setHtml",c.a.Y),c.s=function(){function t(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function e(t,i){if(t)if(8==t.nodeType){var n=c.s.Ja(t.nodeValue);n!=l&&i.push({jb:t,yb:n})}else if(1==t.nodeType)for(var n=0,s=t.childNodes,r=s.length;r>n;n++)e(s[n],i)}var i={};return{na:function(e){"function"!=typeof e&&n(Error("You can only pass a function to ko.memoization.memoize()"));var s=t()+t();return i[s]=e,"<!--[ko_memo:"+s+"]-->"},Va:function(t,e){var s=i[t];s===o&&n(Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized."));try{return s.apply(l,e||[]),a}finally{delete i[t]}},Wa:function(t,i){var n=[];e(t,n);for(var s=0,r=n.length;r>s;s++){var o=n[s].jb,a=[o];i&&c.a.N(a,i),c.s.Va(n[s].yb,a),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Ja:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:l}}}(),c.b("memoization",c.s),c.b("memoization.memoize",c.s.na),c.b("memoization.unmemoize",c.s.Va),c.b("memoization.parseMemoText",c.s.Ja),c.b("memoization.unmemoizeDomNodeAndDescendants",c.s.Wa),c.Ba={throttle:function(t,e){t.throttleEvaluation=e;var i=l;return c.h({read:t,write:function(n){clearTimeout(i),i=setTimeout(function(){t(n)},e)}})},notify:function(t,e){return t.equalityComparer="always"==e?s(u):c.m.fn.equalityComparer,t}},c.b("extenders",c.Ba),c.Sa=function(t,e,i){this.target=t,this.ca=e,this.ib=i,c.B(this,"dispose",this.A)},c.Sa.prototype.A=function(){this.sb=a,this.ib()},c.R=function(){this.u={},c.a.extend(this,c.R.fn),c.B(this,"subscribe",this.ta),c.B(this,"extend",this.extend),c.B(this,"getSubscriptionsCount",this.ob)},c.R.fn={ta:function(t,e,i){var i=i||"change",t=e?t.bind(e):t,n=new c.Sa(this,t,function(){c.a.ba(this.u[i],n)}.bind(this));return this.u[i]||(this.u[i]=[]),this.u[i].push(n),n},notifySubscribers:function(t,e){e=e||"change",this.u[e]&&c.a.v(this.u[e].slice(0),function(e){e&&e.sb!==a&&e.ca(t)})},ob:function(){var t,e=0;for(t in this.u)this.u.hasOwnProperty(t)&&(e+=this.u[t].length);return e},extend:function(t){var e=this;if(t)for(var i in t){var n=c.Ba[i];"function"==typeof n&&(e=n(e,t[i]))}return e}},c.Ga=function(t){return"function"==typeof t.ta&&"function"==typeof t.notifySubscribers},c.b("subscribable",c.R),c.b("isSubscribable",c.Ga),c.U=function(){var t=[];return{bb:function(e){t.push({ca:e,Aa:[]})},end:function(){t.pop()},La:function(e){if(c.Ga(e)||n(Error("Only subscribable things can act as dependencies")),t.length>0){var i=t[t.length-1];c.a.j(i.Aa,e)>=0||(i.Aa.push(e),i.ca(e))}}}}();var d={undefined:a,"boolean":a,number:a,string:a};c.m=function(t){function e(){return arguments.length>0?(e.equalityComparer&&e.equalityComparer(i,arguments[0])||(e.I(),i=arguments[0],e.H()),this):(c.U.La(e),i)}var i=t;return c.R.call(e),e.H=function(){e.notifySubscribers(i)},e.I=function(){e.notifySubscribers(i,"beforeChange")},c.a.extend(e,c.m.fn),c.B(e,"valueHasMutated",e.H),c.B(e,"valueWillMutate",e.I),e},c.m.fn={equalityComparer:function(t,e){return t===l||typeof t in d?t===e:u}};var p=c.m.Db="__ko_proto__";c.m.fn[p]=c.m,c.ia=function(t,e){return t===l||t===o||t[p]===o?u:t[p]===e?a:c.ia(t[p],e)},c.la=function(t){return c.ia(t,c.m)},c.Ha=function(t){return"function"==typeof t&&t[p]===c.m||"function"==typeof t&&t[p]===c.h&&t.pb?a:u},c.b("observable",c.m),c.b("isObservable",c.la),c.b("isWriteableObservable",c.Ha),c.Q=function(t){0==arguments.length&&(t=[]),t!==l&&t!==o&&!("length"in t)&&n(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var e=c.m(t);return c.a.extend(e,c.Q.fn),e},c.Q.fn={remove:function(t){for(var e=this(),i=[],n="function"==typeof t?t:function(e){return e===t},s=0;e.length>s;s++){var r=e[s];n(r)&&(0===i.length&&this.I(),i.push(r),e.splice(s,1),s--)}return i.length&&this.H(),i},removeAll:function(t){if(t===o){var e=this(),i=e.slice(0);return this.I(),e.splice(0,e.length),this.H(),i}return t?this.remove(function(e){return c.a.j(t,e)>=0}):[]},destroy:function(t){var e=this(),i="function"==typeof t?t:function(e){return e===t};this.I();for(var n=e.length-1;n>=0;n--)i(e[n])&&(e[n]._destroy=a);this.H()},destroyAll:function(t){return t===o?this.destroy(s(a)):t?this.destroy(function(e){return c.a.j(t,e)>=0}):[]},indexOf:function(t){var e=this();return c.a.j(e,t)},replace:function(t,e){var i=this.indexOf(t);i>=0&&(this.I(),this()[i]=e,this.H())}},c.a.v("pop push reverse shift sort splice unshift".split(" "),function(t){c.Q.fn[t]=function(){var e=this();return this.I(),e=e[t].apply(e,arguments),this.H(),e}}),c.a.v(["slice"],function(t){c.Q.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),c.b("observableArray",c.Q),c.h=function(t,e,i){function r(){c.a.v(_,function(t){t.A()}),_=[]}function h(){var t=p.throttleEvaluation;t&&t>=0?(clearTimeout(D),D=setTimeout(d,t)):d()}function d(){if(!v)if(m&&x())w();else{v=a;try{var t=c.a.T(_,function(t){return t.target});c.U.bb(function(e){var i;0>(i=c.a.j(t,e))?_.push(e.ta(h)):t[i]=o});for(var i=b.call(e),n=t.length-1;n>=0;n--)t[n]&&_.splice(n,1)[0].A();m=a,p.notifySubscribers(g,"beforeChange"),g=i}finally{c.U.end()}p.notifySubscribers(g),v=u}}function p(){return arguments.length>0?(f.apply(p,arguments),void 0):(m||d(),c.U.La(p),g)}function f(){"function"==typeof y?y.apply(e,arguments):n(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var g,m=u,v=u,b=t;b&&"object"==typeof b?(i=b,b=i.read):(i=i||{},b||(b=i.read)),"function"!=typeof b&&n(Error("Pass a function that returns the value of the ko.computed"));var y=i.write;e||(e=i.owner);var _=[],w=r,k="object"==typeof i.disposeWhenNodeIsRemoved?i.disposeWhenNodeIsRemoved:l,x=i.disposeWhen||s(u);if(k){w=function(){c.a.G.Ma(k,arguments.callee),r()},c.a.G.wa(k,w);var C=x,x=function(){return!c.a.fa(k)||C()}}var D=l;return p.nb=function(){return _.length},p.pb="function"==typeof i.write,p.A=function(){w()},c.R.call(p),c.a.extend(p,c.h.fn),i.deferEvaluation!==a&&d(),c.B(p,"dispose",p.A),c.B(p,"getDependenciesCount",p.nb),p},c.rb=function(t){return c.ia(t,c.h)},r=c.m.Db,c.h[r]=c.m,c.h.fn={},c.h.fn[r]=c.h,c.b("dependentObservable",c.h),c.b("computed",c.h),c.b("isComputed",c.rb),function(){function t(n,s,r){if(r=r||new i,n=s(n),"object"!=typeof n||n===l||n===o||n instanceof Date)return n;var a=n instanceof Array?[]:{};return r.save(n,a),e(n,function(e){var i=s(n[e]);switch(typeof i){case"boolean":case"number":case"string":case"function":a[e]=i;break;case"object":case"undefined":var l=r.get(i);a[e]=l!==o?l:t(i,s,r)}}),a}function e(t,e){if(t instanceof Array){for(var i=0;t.length>i;i++)e(i);"function"==typeof t.toJSON&&e("toJSON")}else for(i in t)e(i)}function i(){var t=[],e=[];this.save=function(i,n){var s=c.a.j(t,i);0>s?(t.push(i),e.push(n)):e[s]=n},this.get=function(i){return i=c.a.j(t,i),0>i?o:e[i]}}c.Ta=function(e){return 0==arguments.length&&n(Error("When calling ko.toJS, pass the object you want to convert.")),t(e,function(t){for(var e=0;c.la(t)&&10>e;e++)t=t();return t})},c.toJSON=function(t,e,i){return t=c.Ta(t),c.a.sa(t,e,i)}}(),c.b("toJS",c.Ta),c.b("toJSON",c.toJSON),function(){c.k={r:function(t){switch(c.a.o(t)){case"option":return t.__ko__hasDomDataOptionValue__===a?c.a.f.get(t,c.c.options.oa):t.getAttribute("value");case"select":return 0>t.selectedIndex?o:c.k.r(t.options[t.selectedIndex]);default:return t.value}},S:function(t,e){switch(c.a.o(t)){case"option":switch(typeof e){case"string":c.a.f.set(t,c.c.options.oa,o),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=e;break;default:c.a.f.set(t,c.c.options.oa,e),t.__ko__hasDomDataOptionValue__=a,t.value="number"==typeof e?e:""}break;case"select":for(var i=t.options.length-1;i>=0;i--)if(c.k.r(t.options[i])==e){t.selectedIndex=i;break}break;default:(e===l||e===o)&&(e=""),t.value=e}}}}(),c.b("selectExtensions",c.k),c.b("selectExtensions.readValue",c.k.r),c.b("selectExtensions.writeValue",c.k.S),c.g=function(){function t(t,i){for(var n=l;t!=n;)n=t,t=t.replace(e,function(t,e){return i[e]});return t}var e=/\@ko_token_(\d+)\@/g,i=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,n=["true","false"];return{D:[],W:function(e){var i=c.a.w(e);if(3>i.length)return[];"{"===i.charAt(0)&&(i=i.substring(1,i.length-1));for(var n,e=[],s=l,r=0;i.length>r;r++){var o=i.charAt(r);if(s===l)switch(o){case'"':case"'":case"/":s=r,n=o}else if(o==n&&"\\"!==i.charAt(r-1)){o=i.substring(s,r+1),e.push(o);var a="@ko_token_"+(e.length-1)+"@",i=i.substring(0,s)+a+i.substring(r+1),r=r-(o.length-a.length),s=l}}n=s=l;for(var u=0,h=l,r=0;i.length>r;r++){if(o=i.charAt(r),s===l)switch(o){case"{":s=r,h=o,n="}";break;case"(":s=r,h=o,n=")";break;case"[":s=r,h=o,n="]"}o===h?u++:o===n&&(u--,0===u&&(o=i.substring(s,r+1),e.push(o),a="@ko_token_"+(e.length-1)+"@",i=i.substring(0,s)+a+i.substring(r+1),r-=o.length-a.length,s=l))}for(n=[],i=i.split(","),s=0,r=i.length;r>s;s++)u=i[s],h=u.indexOf(":"),h>0&&u.length-1>h?(o=u.substring(h+1),n.push({key:t(u.substring(0,h),e),value:t(o,e)})):n.push({unknown:t(u,e)});return n},ka:function(t){for(var e,s="string"==typeof t?c.g.W(t):t,r=[],t=[],o=0;e=s[o];o++)if(r.length>0&&r.push(","),e.key){var a;t:{a=e.key;var u=c.a.w(a);switch(u.length&&u.charAt(0)){case"'":case'"':break t;default:a="'"+u+"'"}}e=e.value,r.push(a),r.push(":"),r.push(e),u=c.a.w(e),(0>c.a.j(n,c.a.w(u).toLowerCase())?u.match(i)!==l:0)&&(t.length>0&&t.push(", "),t.push(a+" : function(__ko_value) { "+e+" = __ko_value; }"))}else e.unknown&&r.push(e.unknown);return s=r.join(""),t.length>0&&(s=s+", '_ko_property_writers' : { "+t.join("")+" } "),s},wb:function(t,e){for(var i=0;t.length>i;i++)if(c.a.w(t[i].key)==e)return a;return u},$:function(t,e,i,n,s){t&&c.Ha(t)?(!s||t()!==n)&&t(n):(t=e()._ko_property_writers)&&t[i]&&t[i](n)}}}(),c.b("jsonExpressionRewriting",c.g),c.b("jsonExpressionRewriting.bindingRewriteValidators",c.g.D),c.b("jsonExpressionRewriting.parseObjectLiteral",c.g.W),c.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",c.g.ka),function(){function t(t){return 8==t.nodeType&&(o?t.text:t.nodeValue).match(u)}function i(t){return 8==t.nodeType&&(o?t.text:t.nodeValue).match(h)}function s(e,s){for(var r=e,o=1,a=[];r=r.nextSibling;){if(i(r)&&(o--,0===o))return a;a.push(r),t(r)&&o++}return s||n(Error("Cannot find closing comment tag to match: "+e.nodeValue)),l}function r(t,e){var i=s(t,e);return i?i.length>0?i[i.length-1].nextSibling:t.nextSibling:l}var o="<!--test-->"===e.createComment("test").text,u=o?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,h=o?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,d={ul:a,ol:a};c.e={C:{},childNodes:function(e){return t(e)?s(e):e.childNodes},ha:function(e){if(t(e))for(var e=c.e.childNodes(e),i=0,n=e.length;n>i;i++)c.removeNode(e[i]);else c.a.ga(e)},X:function(e,i){if(t(e)){c.e.ha(e);for(var n=e.nextSibling,s=0,r=i.length;r>s;s++)n.parentNode.insertBefore(i[s],n)}else c.a.X(e,i)},Ka:function(e,i){t(e)?e.parentNode.insertBefore(i,e.nextSibling):e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)},Fa:function(e,i,n){t(e)?e.parentNode.insertBefore(i,n.nextSibling):n.nextSibling?e.insertBefore(i,n.nextSibling):e.appendChild(i)},firstChild:function(e){return t(e)?!e.nextSibling||i(e.nextSibling)?l:e.nextSibling:e.firstChild},nextSibling:function(e){return t(e)&&(e=r(e)),e.nextSibling&&i(e.nextSibling)?l:e.nextSibling},Xa:function(e){return(e=t(e))?e[1]:l},Ia:function(e){if(d[c.a.o(e)]){var n=e.firstChild;if(n)do if(1===n.nodeType){var s;s=n.firstChild;var o=l;if(s)do if(o)o.push(s);else if(t(s)){var u=r(s,a);u?s=u:o=[s]}else i(s)&&(o=[s]);while(s=s.nextSibling);if(s=o)for(o=n.nextSibling,u=0;s.length>u;u++)o?e.insertBefore(s[u],o):e.appendChild(s[u])}while(n=n.nextSibling)}}}}(),c.b("virtualElements",c.e),c.b("virtualElements.allowedBindings",c.e.C),c.b("virtualElements.emptyNode",c.e.ha),c.b("virtualElements.insertAfter",c.e.Fa),c.b("virtualElements.prepend",c.e.Ka),c.b("virtualElements.setDomNodeChildren",c.e.X),function(){c.J=function(){this.cb={}},c.a.extend(c.J.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind")!=l;case 8:return c.e.Xa(t)!=l;default:return u}},getBindings:function(t,e){var i=this.getBindingsString(t,e);return i?this.parseBindingsString(i,e):l},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return c.e.Xa(t);default:return l}},parseBindingsString:function(t,e){try{var i,s=e.$data,s="object"==typeof s&&s!=l?[s,e]:[e],r=s.length,o=this.cb,a=r+"_"+t;if(!(i=o[a])){var u=" { "+c.g.ka(t)+" } ";i=o[a]=c.a.eb(u,r)}return i(s)}catch(h){n(Error("Unable to parse bindings.\nMessage: "+h+";\nBindings value: "+t))}}}),c.J.instance=new c.J}(),c.b("bindingProvider",c.J),function(){function e(t,e,n){for(var s=c.e.firstChild(e);e=s;)s=c.e.nextSibling(e),i(t,e,n)}function i(t,i,n){var r=a,o=1===i.nodeType;o&&c.e.Ia(i),(o&&n||c.J.instance.nodeHasBindings(i))&&(r=s(i,l,t,n).Gb),r&&e(t,i,!o)}function s(t,e,i,s){function r(t){return function(){return u[t]}}function a(){return u}var u,h,d=0;return c.h(function(){var l=i&&i instanceof c.z?i:new c.z(c.a.d(i)),p=l.$data;if(s&&c.Ra(t,l),u=("function"==typeof e?e():e)||c.J.instance.getBindings(t,l)){if(0===d){d=1;for(var f in u){var g=c.c[f];g&&8===t.nodeType&&!c.e.C[f]&&n(Error("The binding '"+f+"' cannot be used with virtual elements")),g&&"function"==typeof g.init&&(g=g.init(t,r(f),a,p,l))&&g.controlsDescendantBindings&&(h!==o&&n(Error("Multiple bindings ("+h+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),h=f)}d=2}if(2===d)for(f in u)(g=c.c[f])&&"function"==typeof g.update&&g.update(t,r(f),a,p,l)}},l,{disposeWhenNodeIsRemoved:t}),{Gb:h===o}}c.c={},c.z=function(t,e){e?(c.a.extend(this,e),this.$parentContext=e,this.$parent=e.$data,this.$parents=(e.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=t),this.$data=t},c.z.prototype.createChildContext=function(t){return new c.z(t,this)},c.z.prototype.extend=function(t){var e=c.a.extend(new c.z,this);return c.a.extend(e,t)},c.Ra=function(t,e){return 2!=arguments.length?c.a.f.get(t,"__ko_bindingContext__"):(c.a.f.set(t,"__ko_bindingContext__",e),void 0)},c.ya=function(t,e,i){return 1===t.nodeType&&c.e.Ia(t),s(t,e,i,a)},c.Ya=function(t,i){(1===i.nodeType||8===i.nodeType)&&e(t,i,a)},c.xa=function(e,s){s&&1!==s.nodeType&&8!==s.nodeType&&n(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),s=s||t.document.body,i(e,s,a)},c.ea=function(t){switch(t.nodeType){case 1:case 8:var e=c.Ra(t);if(e)return e;if(t.parentNode)return c.ea(t.parentNode)}},c.hb=function(t){return(t=c.ea(t))?t.$data:o},c.b("bindingHandlers",c.c),c.b("applyBindings",c.xa),c.b("applyBindingsToDescendants",c.Ya),c.b("applyBindingsToNode",c.ya),c.b("contextFor",c.ea),c.b("dataFor",c.hb)}(),c.a.v(["click"],function(t){c.c[t]={init:function(e,i,n,s){return c.c.event.init.call(this,e,function(){var e={};return e[t]=i(),e},n,s)}}}),c.c.event={init:function(t,e,i,n){var s,r=e()||{};for(s in r)(function(){var r=s;"string"==typeof r&&c.a.n(t,r,function(t){var s,o=e()[r];if(o){var l=i();try{var h=c.a.L(arguments);h.unshift(n),s=o.apply(n,h)}finally{s!==a&&(t.preventDefault?t.preventDefault():t.returnValue=u)}l[r+"Bubble"]===u&&(t.cancelBubble=a,t.stopPropagation&&t.stopPropagation())}})})()}},c.c.submit={init:function(t,e,i,s){"function"!=typeof e()&&n(Error("The value for a submit binding must be a function")),c.a.n(t,"submit",function(i){var n,r=e();try{n=r.call(s,t)}finally{n!==a&&(i.preventDefault?i.preventDefault():i.returnValue=u)}})}},c.c.visible={update:function(t,e){var i=c.a.d(e()),n="none"!=t.style.display;i&&!n?t.style.display="":!i&&n&&(t.style.display="none")}},c.c.enable={update:function(t,e){var i=c.a.d(e());i&&t.disabled?t.removeAttribute("disabled"):!i&&!t.disabled&&(t.disabled=a)}},c.c.disable={update:function(t,e){c.c.enable.update(t,function(){return!c.a.d(e())})}},c.c.value={init:function(t,e,i){function n(){var n=e(),s=c.k.r(t);c.g.$(n,i,"value",s,a)}var s=["change"],r=i().valueUpdate;if(r&&("string"==typeof r&&(r=[r]),c.a.N(s,r),s=c.a.za(s)),c.a.ja&&"input"==t.tagName.toLowerCase()&&"text"==t.type&&"off"!=t.autocomplete&&(!t.form||"off"!=t.form.autocomplete)&&-1==c.a.j(s,"propertychange")){var o=u;c.a.n(t,"propertychange",function(){o=a}),c.a.n(t,"blur",function(){o&&(o=u,n())})}c.a.v(s,function(e){var i=n;c.a.Hb(e,"after")&&(i=function(){setTimeout(n,0)},e=e.substring(5)),c.a.n(t,e,i)})},update:function(t,e){var i="select"===c.a.o(t),n=c.a.d(e()),s=c.k.r(t),r=n!=s;0===n&&0!==s&&"0"!==s&&(r=a),r&&(s=function(){c.k.S(t,n)},s(),i&&setTimeout(s,0)),i&&t.length>0&&h(t,n,u)}},c.c.options={update:function(t,i,s){"select"!==c.a.o(t)&&n(Error("options binding applies only to SELECT elements"));for(var r=0==t.length,u=c.a.T(c.a.aa(t.childNodes,function(t){return t.tagName&&"option"===c.a.o(t)&&t.selected}),function(t){return c.k.r(t)||t.innerText||t.textContent}),d=t.scrollTop,p=c.a.d(i());t.length>0;)c.F(t.options[0]),t.remove(0);if(p){if(s=s(),"number"!=typeof p.length&&(p=[p]),s.optionsCaption){var f=e.createElement("option");c.a.Y(f,s.optionsCaption),c.k.S(f,o),t.appendChild(f)}for(var i=0,g=p.length;g>i;i++){var f=e.createElement("option"),m="string"==typeof s.optionsValue?p[i][s.optionsValue]:p[i],m=c.a.d(m);c.k.S(f,m);var v=s.optionsText,m="function"==typeof v?v(p[i]):"string"==typeof v?p[i][v]:m;(m===l||m===o)&&(m=""),c.a.Qa(f,m),t.appendChild(f)}for(p=t.getElementsByTagName("option"),i=f=0,g=p.length;g>i;i++)c.a.j(u,c.k.r(p[i]))>=0&&(c.a.Pa(p[i],a),f++);t.scrollTop=d,r&&"value"in s&&h(t,c.a.d(s.value),a),c.a.lb(t)}}},c.c.options.oa="__ko.optionValueDomData__",c.c.selectedOptions={Ea:function(t){for(var e=[],t=t.childNodes,i=0,n=t.length;n>i;i++){var s=t[i],r=c.a.o(s);"option"==r&&s.selected?e.push(c.k.r(s)):"optgroup"==r&&(s=c.c.selectedOptions.Ea(s),Array.prototype.splice.apply(e,[e.length,0].concat(s)))}return e},init:function(t,e,i){c.a.n(t,"change",function(){var t=e(),n=c.c.selectedOptions.Ea(this);c.g.$(t,i,"value",n)})},update:function(t,e){"select"!=c.a.o(t)&&n(Error("values binding applies only to SELECT elements"));var i=c.a.d(e());if(i&&"number"==typeof i.length)for(var s=t.childNodes,r=0,o=s.length;o>r;r++){var a=s[r];"option"===c.a.o(a)&&c.a.Pa(a,c.a.j(i,c.k.r(a))>=0)}}},c.c.text={update:function(t,e){c.a.Qa(t,e())}},c.c.html={init:function(){return{controlsDescendantBindings:a}},update:function(t,e){var i=c.a.d(e());c.a.Y(t,i)}},c.c.css={update:function(t,e){var i,n=c.a.d(e()||{});for(i in n)if("string"==typeof i){var s=c.a.d(n[i]);c.a.Ua(t,i,s)}}},c.c.style={update:function(t,e){var i,n=c.a.d(e()||{});for(i in n)if("string"==typeof i){var s=c.a.d(n[i]);t.style[i]=s||""}}},c.c.uniqueName={init:function(t,i){i()&&(t.name="ko_unique_"+ ++c.c.uniqueName.gb,(c.a.tb||c.a.ub)&&t.mergeAttributes(e.createElement("<input name='"+t.name+"'/>"),u))}},c.c.uniqueName.gb=0,c.c.checked={init:function(t,e,i){c.a.n(t,"click",function(){var n;if("checkbox"==t.type)n=t.checked;else{if("radio"!=t.type||!t.checked)return;n=t.value}var s=e();"checkbox"==t.type&&c.a.d(s)instanceof Array?(n=c.a.j(c.a.d(s),t.value),t.checked&&0>n?s.push(t.value):!t.checked&&n>=0&&s.splice(n,1)):c.g.$(s,i,"checked",n,a)}),"radio"==t.type&&!t.name&&c.c.uniqueName.init(t,s(a))},update:function(t,e){var i=c.a.d(e());"checkbox"==t.type?t.checked=i instanceof Array?c.a.j(i,t.value)>=0:i:"radio"==t.type&&(t.checked=t.value==i)}};var f={"class":"className","for":"htmlFor"};c.c.attr={update:function(t,e){var i,n=c.a.d(e())||{};for(i in n)if("string"==typeof i){var s=c.a.d(n[i]),r=s===u||s===l||s===o;r&&t.removeAttribute(i),8>=c.a.ja&&i in f?(i=f[i],r?t.removeAttribute(i):t[i]=s):r||t.setAttribute(i,s+"")}}},c.c.hasfocus={init:function(t,e,i){function n(t){var n=e();c.g.$(n,i,"hasfocus",t,a)}c.a.n(t,"focus",function(){n(a)}),c.a.n(t,"focusin",function(){n(a)}),c.a.n(t,"blur",function(){n(u)}),c.a.n(t,"focusout",function(){n(u)})},update:function(t,e){var i=c.a.d(e());i?t.focus():t.blur(),c.a.va(t,i?"focusin":"focusout")}},c.c["with"]={p:function(t){return function(){var e=t();return{"if":e,data:e,templateEngine:c.q.K}}},init:function(t,e){return c.c.template.init(t,c.c["with"].p(e))},update:function(t,e,i,n,s){return c.c.template.update(t,c.c["with"].p(e),i,n,s)}},c.g.D["with"]=u,c.e.C["with"]=a,c.c["if"]={p:function(t){return function(){return{"if":t(),templateEngine:c.q.K}}},init:function(t,e){return c.c.template.init(t,c.c["if"].p(e))},update:function(t,e,i,n,s){return c.c.template.update(t,c.c["if"].p(e),i,n,s)}},c.g.D["if"]=u,c.e.C["if"]=a,c.c.ifnot={p:function(t){return function(){return{ifnot:t(),templateEngine:c.q.K}}},init:function(t,e){return c.c.template.init(t,c.c.ifnot.p(e))},update:function(t,e,i,n,s){return c.c.template.update(t,c.c.ifnot.p(e),i,n,s)}},c.g.D.ifnot=u,c.e.C.ifnot=a,c.c.foreach={p:function(t){return function(){var e=c.a.d(t());return e&&"number"!=typeof e.length?{foreach:e.data,includeDestroyed:e.includeDestroyed,afterAdd:e.afterAdd,beforeRemove:e.beforeRemove,afterRender:e.afterRender,templateEngine:c.q.K}:{foreach:e,templateEngine:c.q.K}}},init:function(t,e){return c.c.template.init(t,c.c.foreach.p(e))},update:function(t,e,i,n,s){return c.c.template.update(t,c.c.foreach.p(e),i,n,s)}},c.g.D.foreach=u,c.e.C.foreach=a,c.t=function(){},c.t.prototype.renderTemplateSource=function(){n(Error("Override renderTemplateSource"))},c.t.prototype.createJavaScriptEvaluatorBlock=function(){n(Error("Override createJavaScriptEvaluatorBlock"))},c.t.prototype.makeTemplateSource=function(t,i){if("string"==typeof t){var i=i||e,s=i.getElementById(t);return s||n(Error("Cannot find template with ID "+t)),new c.l.i(s)}return 1==t.nodeType||8==t.nodeType?new c.l.M(t):(n(Error("Unknown template type: "+t)),void 0)},c.t.prototype.renderTemplate=function(t,e,i,n){return this.renderTemplateSource(this.makeTemplateSource(t,n),e,i)},c.t.prototype.isTemplateRewritten=function(t,i){return this.allowTemplateRewriting===u||(!i||i==e)&&this.V&&this.V[t]?a:this.makeTemplateSource(t,i).data("isRewritten")},c.t.prototype.rewriteTemplate=function(t,i,n){var s=this.makeTemplateSource(t,n),i=i(s.text());s.text(i),s.data("isRewritten",a),(!n||n==e)&&"string"==typeof t&&(this.V=this.V||{},this.V[t]=a)},c.b("templateEngine",c.t),c.Z=function(){function t(t,e,i){for(var t=c.g.W(t),s=c.g.D,r=0;t.length>r;r++){var o=t[r].key;if(s.hasOwnProperty(o)){var a=s[o];"function"==typeof a?(o=a(t[r].value))&&n(Error(o)):a||n(Error("This template engine does not support the '"+o+"' binding within its templates"))}}return t="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+c.g.ka(t)+" } })()         })",i.createJavaScriptEvaluatorBlock(t)+e
}var e=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,i=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{mb:function(t,e,i){e.isTemplateRewritten(t,i)||e.rewriteTemplate(t,function(t){return c.Z.zb(t,e)},i)},zb:function(n,s){return n.replace(e,function(e,i,n,r,o,a,l){return t(l,i,s)}).replace(i,function(e,i){return t(i,"<!-- ko -->",s)})},Za:function(t){return c.s.na(function(e,i){e.nextSibling&&c.ya(e.nextSibling,t,i)})}}}(),c.b("templateRewriting",c.Z),c.b("templateRewriting.applyMemoizedBindingsToNextSibling",c.Z.Za),function(){c.l={},c.l.i=function(t){this.i=t},c.l.i.prototype.text=function(){var t=c.a.o(this.i),t="script"===t?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.i[t];var e=arguments[0];"innerHTML"===t?c.a.Y(this.i,e):this.i[t]=e},c.l.i.prototype.data=function(t){return 1===arguments.length?c.a.f.get(this.i,"templateSourceData_"+t):(c.a.f.set(this.i,"templateSourceData_"+t,arguments[1]),void 0)},c.l.M=function(t){this.i=t},c.l.M.prototype=new c.l.i,c.l.M.prototype.text=function(){if(0==arguments.length){var t=c.a.f.get(this.i,"__ko_anon_template__")||{};return t.ua===o&&t.da&&(t.ua=t.da.innerHTML),t.ua}c.a.f.set(this.i,"__ko_anon_template__",{ua:arguments[0]})},c.l.i.prototype.nodes=function(){return 0==arguments.length?(c.a.f.get(this.i,"__ko_anon_template__")||{}).da:(c.a.f.set(this.i,"__ko_anon_template__",{da:arguments[0]}),void 0)},c.b("templateSources",c.l),c.b("templateSources.domElement",c.l.i),c.b("templateSources.anonymousTemplate",c.l.M)}(),function(){function t(t,e,i){for(var n,e=c.e.nextSibling(e);t&&(n=t)!==e;)t=c.e.nextSibling(n),(1===n.nodeType||8===n.nodeType)&&i(n)}function e(e,i){if(e.length){var n=e[0],s=e[e.length-1];t(n,s,function(t){c.xa(i,t)}),t(n,s,function(t){c.s.Wa(t,[i])})}}function i(t){return t.nodeType?t:t.length>0?t[0]:l}function s(t,s,o,l,h){var h=h||{},d=t&&i(t),d=d&&d.ownerDocument,p=h.templateEngine||r;switch(c.Z.mb(o,p,d),o=p.renderTemplate(o,l,h,d),("number"!=typeof o.length||o.length>0&&"number"!=typeof o[0].nodeType)&&n(Error("Template engine must return an array of DOM nodes")),d=u,s){case"replaceChildren":c.e.X(t,o),d=a;break;case"replaceNode":c.a.Na(t,o),d=a;break;case"ignoreTargetNode":break;default:n(Error("Unknown renderMode: "+s))}return d&&(e(o,l),h.afterRender&&h.afterRender(o,l.$data)),o}var r;c.ra=function(t){t!=o&&!(t instanceof c.t)&&n(Error("templateEngine must inherit from ko.templateEngine")),r=t},c.qa=function(t,e,a,u,h){if(a=a||{},(a.templateEngine||r)==o&&n(Error("Set a template engine before calling renderTemplate")),h=h||"replaceChildren",u){var d=i(u);return c.h(function(){var n=e&&e instanceof c.z?e:new c.z(c.a.d(e)),r="function"==typeof t?t(n.$data):t,n=s(u,h,r,n,a);"replaceNode"==h&&(u=n,d=i(u))},l,{disposeWhen:function(){return!d||!c.a.fa(d)},disposeWhenNodeIsRemoved:d&&"replaceNode"==h?d.parentNode:d})}return c.s.na(function(i){c.qa(t,e,a,i,"replaceNode")})},c.Fb=function(t,i,n,r,a){function u(t,i){e(i,d),n.afterRender&&n.afterRender(i,t)}function h(e,i){var r="function"==typeof t?t(e):t;return d=a.createChildContext(c.a.d(e)),d.$index=i,s(l,"ignoreTargetNode",r,d,n)}var d;return c.h(function(){var t=c.a.d(i)||[];t.length===void 0&&(t=[t]),t=c.a.aa(t,function(t){return n.includeDestroyed||t===o||t===l||!c.a.d(t._destroy)}),c.a.Oa(r,t,h,n,u)},l,{disposeWhenNodeIsRemoved:r})},c.c.template={init:function(t,e){var i=c.a.d(e());return"string"!=typeof i&&!i.name&&(1==t.nodeType||8==t.nodeType)&&(i=1==t.nodeType?t.childNodes:c.e.childNodes(t),i=c.a.Ab(i),new c.l.M(t).nodes(i)),{controlsDescendantBindings:a}},update:function(t,e,i,n,s){e=c.a.d(e()),n=a,"string"==typeof e?i=e:(i=e.name,"if"in e&&(n=n&&c.a.d(e["if"])),"ifnot"in e&&(n=n&&!c.a.d(e.ifnot)));var r=l;"object"==typeof e&&"foreach"in e?r=c.Fb(i||t,n&&e.foreach||[],e,t,s):n?(s="object"==typeof e&&"data"in e?s.createChildContext(c.a.d(e.data)):s,r=c.qa(i||t,s,e,t)):c.e.ha(t),s=r,(e=c.a.f.get(t,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof e.A&&e.A(),c.a.f.set(t,"__ko__templateSubscriptionDomDataKey__",s)}},c.g.D.template=function(t){return t=c.g.W(t),1==t.length&&t[0].unknown||c.g.wb(t,"name")?l:"This template engine does not support anonymous templates nested within its templates"},c.e.C.template=a}(),c.b("setTemplateEngine",c.ra),c.b("renderTemplate",c.qa),function(){c.a.O=function(t,e,i){if(i===o)return c.a.O(t,e,1)||c.a.O(t,e,10)||c.a.O(t,e,Number.MAX_VALUE);for(var t=t||[],e=e||[],n=t,s=e,r=[],a=0;s.length>=a;a++)r[a]=[];for(var a=0,u=Math.min(n.length,i);u>=a;a++)r[0][a]=a;for(a=1,u=Math.min(s.length,i);u>=a;a++)r[a][0]=a;for(var h,u=n.length,d=s.length,a=1;u>=a;a++){h=Math.max(1,a-i);for(var p=Math.min(d,a+i);p>=h;h++)r[h][a]=n[a-1]===s[h-1]?r[h-1][a-1]:Math.min(r[h-1][a]===o?Number.MAX_VALUE:r[h-1][a]+1,r[h][a-1]===o?Number.MAX_VALUE:r[h][a-1]+1)}if(i=t.length,n=e.length,s=[],a=r[n][i],a===o)r=l;else{for(;i>0||n>0;)u=r[n][i],d=n>0?r[n-1][i]:a+1,p=i>0?r[n][i-1]:a+1,h=n>0&&i>0?r[n-1][i-1]:a+1,(d===o||u-1>d)&&(d=a+1),(p===o||u-1>p)&&(p=a+1),u-1>h&&(h=a+1),p>=d&&h>d?(s.push({status:"added",value:e[n-1]}),n--):(d>p&&h>p?s.push({status:"deleted",value:t[i-1]}):(s.push({status:"retained",value:t[i-1]}),n--),i--);r=s.reverse()}return r}}(),c.b("utils.compareArrays",c.a.O),function(){function t(t){if(t.length>2){for(var e=t[0],i=t[t.length-1],n=[e];e!==i;){if(e=e.nextSibling,!e)return;n.push(e)}Array.prototype.splice.apply(t,[0,t.length].concat(n))}}function e(e,i,n,s,r){var o=[],e=c.h(function(){var e=i(n,r)||[];o.length>0&&(t(o),c.a.Na(o,e),s&&s(n,e)),o.splice(0,o.length),c.a.N(o,e)},l,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return 0==o.length||!c.a.fa(o[0])}});return{xb:o,h:e}}c.a.Oa=function(i,n,s,r,h){for(var n=n||[],r=r||{},d=c.a.f.get(i,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===o,p=c.a.f.get(i,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],f=c.a.T(p,function(t){return t.$a}),g=c.a.O(f,n),n=[],m=0,v=[],b=0,f=[],y=l,_=0,w=g.length;w>_;_++)switch(g[_].status){case"retained":var k=p[m];k.qb(b),b=n.push(k),k.P.length>0&&(y=k.P[k.P.length-1]),m++;break;case"deleted":p[m].h.A(),t(p[m].P),c.a.v(p[m].P,function(t){v.push({element:t,index:_,value:g[_].value}),y=t}),m++;break;case"added":for(var k=g[_].value,x=c.m(b),b=e(i,s,k,h,x),C=b.xb,b=n.push({$a:g[_].value,P:C,h:b.h,qb:x}),D=0,S=C.length;S>D;D++){var T=C[D];f.push({element:T,index:_,value:g[_].value}),y==l?c.e.Ka(i,T):c.e.Fa(i,T,y),y=T}h&&h(k,C,x)}if(c.a.v(v,function(t){c.F(t.element)}),s=u,!d){if(r.afterAdd)for(_=0;f.length>_;_++)r.afterAdd(f[_].element,f[_].index,f[_].value);if(r.beforeRemove){for(_=0;v.length>_;_++)r.beforeRemove(v[_].element,v[_].index,v[_].value);s=a}}if(!s&&v.length)for(_=0;v.length>_;_++)r=v[_].element,r.parentNode&&r.parentNode.removeChild(r);c.a.f.set(i,"setDomNodeChildrenFromArrayMapping_lastMappingResult",n)}}(),c.b("utils.setDomNodeChildrenFromArrayMapping",c.a.Oa),c.q=function(){this.allowTemplateRewriting=u},c.q.prototype=new c.t,c.q.prototype.renderTemplateSource=function(t){var e=9>c.a.ja||!t.nodes?l:t.nodes();return e?c.a.L(e.cloneNode(a).childNodes):(t=t.text(),c.a.pa(t))},c.q.K=new c.q,c.ra(c.q.K),c.b("nativeTemplateEngine",c.q),function(){c.ma=function(){var t=this.vb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;try{if((jQuery.tmpl.tag.tmpl.open+"").indexOf("__")>=0)return 2}catch(t){}return 1}();this.renderTemplateSource=function(i,s,r){r=r||{},2>t&&n(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var o=i.data("precompiled");return o||(o=i.text()||"",o=jQuery.template(l,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),i.data("precompiled",o)),i=[s.$data],s=jQuery.extend({koBindingContext:s},r.templateOptions),s=jQuery.tmpl(o,i,s),s.appendTo(e.createElement("div")),jQuery.fragments={},s},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,i){e.write("<script type='text/html' id='"+t+"'>"+i+"</script>")},t>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},c.ma.prototype=new c.t;var t=new c.ma;t.vb>0&&c.ra(t),c.b("jqueryTmplTemplateEngine",c.ma)}()}var o=void 0,a=!0,l=null,u=!1;"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?r(module.exports||exports):"function"==typeof define&&define.amd?define("knockout",["exports"],r):r(t.ko={}),a})(window,document,navigator),function(){function t(e,i,n){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return e===i;if(e._chain&&(e=e._wrapped),i._chain&&(i=i._wrapped),e.isEqual&&w.isFunction(e.isEqual))return e.isEqual(i);if(i.isEqual&&w.isFunction(i.isEqual))return i.isEqual(e);var s=l.call(e);if(s!=l.call(i))return!1;switch(s){case"[object String]":return e==""+i;case"[object Number]":return e!=+e?i!=+i:0==e?1/e==1/i:e==+i;case"[object Date]":case"[object Boolean]":return+e==+i;case"[object RegExp]":return e.source==i.source&&e.global==i.global&&e.multiline==i.multiline&&e.ignoreCase==i.ignoreCase}if("object"!=typeof e||"object"!=typeof i)return!1;for(var r=n.length;r--;)if(n[r]==e)return!0;n.push(e);var r=0,o=!0;if("[object Array]"==s){if(r=e.length,o=r==i.length)for(;r--&&(o=r in e==r in i&&t(e[r],i[r],n)););}else{if("constructor"in e!="constructor"in i||e.constructor!=i.constructor)return!1;for(var a in e)if(w.has(e,a)&&(r++,!(o=w.has(i,a)&&t(e[a],i[a],n))))break;if(o){for(a in i)if(w.has(i,a)&&!r--)break;o=!r}}return n.pop(),o}var e=this,i=e._,n={},s=Array.prototype,r=Object.prototype,o=s.slice,a=s.unshift,l=r.toString,u=r.hasOwnProperty,h=s.forEach,c=s.map,d=s.reduce,p=s.reduceRight,f=s.filter,g=s.every,m=s.some,v=s.indexOf,b=s.lastIndexOf,r=Array.isArray,y=Object.keys,_=Function.prototype.bind,w=function(t){return new A(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):e._=w,w.VERSION="1.3.3";var k=w.each=w.forEach=function(t,e,i){if(t!=null)if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var s=0,r=t.length;r>s;s++)if(s in t&&e.call(i,t[s],s,t)===n)break}else for(s in t)if(w.has(t,s)&&e.call(i,t[s],s,t)===n)break};w.map=w.collect=function(t,e,i){var n=[];return t==null?n:c&&t.map===c?t.map(e,i):(k(t,function(t,s,r){n[n.length]=e.call(i,t,s,r)}),t.length===+t.length&&(n.length=t.length),n)},w.reduce=w.foldl=w.inject=function(t,e,i,n){var s=arguments.length>2;if(t==null&&(t=[]),d&&t.reduce===d)return n&&(e=w.bind(e,n)),s?t.reduce(e,i):t.reduce(e);if(k(t,function(t,r,o){s?i=e.call(n,i,t,r,o):(i=t,s=!0)}),!s)throw new TypeError("Reduce of empty array with no initial value");return i},w.reduceRight=w.foldr=function(t,e,i,n){var s=arguments.length>2;if(t==null&&(t=[]),p&&t.reduceRight===p)return n&&(e=w.bind(e,n)),s?t.reduceRight(e,i):t.reduceRight(e);var r=w.toArray(t).reverse();return n&&!s&&(e=w.bind(e,n)),s?w.reduce(r,e,i,n):w.reduce(r,e)},w.find=w.detect=function(t,e,i){var n;return x(t,function(t,s,r){return e.call(i,t,s,r)?(n=t,!0):void 0}),n},w.filter=w.select=function(t,e,i){var n=[];return t==null?n:f&&t.filter===f?t.filter(e,i):(k(t,function(t,s,r){e.call(i,t,s,r)&&(n[n.length]=t)}),n)},w.reject=function(t,e,i){var n=[];return t==null?n:(k(t,function(t,s,r){e.call(i,t,s,r)||(n[n.length]=t)}),n)},w.every=w.all=function(t,e,i){var s=!0;return t==null?s:g&&t.every===g?t.every(e,i):(k(t,function(t,r,o){return(s=s&&e.call(i,t,r,o))?void 0:n}),!!s)};var x=w.some=w.any=function(t,e,i){e||(e=w.identity);var s=!1;return t==null?s:m&&t.some===m?t.some(e,i):(k(t,function(t,r,o){return s||(s=e.call(i,t,r,o))?n:void 0}),!!s)};w.include=w.contains=function(t,e){var i=!1;return t==null?i:v&&t.indexOf===v?t.indexOf(e)!=-1:i=x(t,function(t){return t===e})},w.invoke=function(t,e){var i=o.call(arguments,2);return w.map(t,function(t){return(w.isFunction(e)?e||t:t[e]).apply(t,i)})},w.pluck=function(t,e){return w.map(t,function(t){return t[e]})},w.max=function(t,e,i){if(!e&&w.isArray(t)&&t[0]===+t[0])return Math.max.apply(Math,t);if(!e&&w.isEmpty(t))return-1/0;var n={computed:-1/0};return k(t,function(t,s,r){s=e?e.call(i,t,s,r):t,s>=n.computed&&(n={value:t,computed:s})}),n.value},w.min=function(t,e,i){if(!e&&w.isArray(t)&&t[0]===+t[0])return Math.min.apply(Math,t);if(!e&&w.isEmpty(t))return 1/0;var n={computed:1/0};return k(t,function(t,s,r){s=e?e.call(i,t,s,r):t,n.computed>s&&(n={value:t,computed:s})}),n.value},w.shuffle=function(t){var e,i=[];return k(t,function(t,n){e=Math.floor(Math.random()*(n+1)),i[n]=i[e],i[e]=t}),i},w.sortBy=function(t,e,i){var n=w.isFunction(e)?e:function(t){return t[e]};return w.pluck(w.map(t,function(t,e,s){return{value:t,criteria:n.call(i,t,e,s)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;return i===void 0?1:n===void 0?-1:n>i?-1:i>n?1:0}),"value")},w.groupBy=function(t,e){var i={},n=w.isFunction(e)?e:function(t){return t[e]};return k(t,function(t,e){var s=n(t,e);(i[s]||(i[s]=[])).push(t)}),i},w.sortedIndex=function(t,e,i){i||(i=w.identity);for(var n=0,s=t.length;s>n;){var r=n+s>>1;i(e)>i(t[r])?n=r+1:s=r}return n},w.toArray=function(t){return t?w.isArray(t)||w.isArguments(t)?o.call(t):t.toArray&&w.isFunction(t.toArray)?t.toArray():w.values(t):[]},w.size=function(t){return w.isArray(t)?t.length:w.keys(t).length},w.first=w.head=w.take=function(t,e,i){return e==null||i?t[0]:o.call(t,0,e)},w.initial=function(t,e,i){return o.call(t,0,t.length-(e==null||i?1:e))},w.last=function(t,e,i){return e==null||i?t[t.length-1]:o.call(t,Math.max(t.length-e,0))},w.rest=w.tail=function(t,e,i){return o.call(t,e==null||i?1:e)},w.compact=function(t){return w.filter(t,function(t){return!!t})},w.flatten=function(t,e){return w.reduce(t,function(t,i){return w.isArray(i)?t.concat(e?i:w.flatten(i)):(t[t.length]=i,t)},[])},w.without=function(t){return w.difference(t,o.call(arguments,1))},w.uniq=w.unique=function(t,e,i){var i=i?w.map(t,i):t,n=[];return 3>t.length&&(e=!0),w.reduce(i,function(i,s,r){return(e?w.last(i)===s&&i.length:w.include(i,s))||(i.push(s),n.push(t[r])),i},[]),n},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=w.intersect=function(t){var e=o.call(arguments,1);return w.filter(w.uniq(t),function(t){return w.every(e,function(e){return w.indexOf(e,t)>=0})})},w.difference=function(t){var e=w.flatten(o.call(arguments,1),!0);return w.filter(t,function(t){return!w.include(e,t)})},w.zip=function(){for(var t=o.call(arguments),e=w.max(w.pluck(t,"length")),i=Array(e),n=0;e>n;n++)i[n]=w.pluck(t,""+n);return i},w.indexOf=function(t,e,i){if(t==null)return-1;var n;if(i)return i=w.sortedIndex(t,e),t[i]===e?i:-1;if(v&&t.indexOf===v)return t.indexOf(e);for(i=0,n=t.length;n>i;i++)if(i in t&&t[i]===e)return i;return-1},w.lastIndexOf=function(t,e){if(t==null)return-1;if(b&&t.lastIndexOf===b)return t.lastIndexOf(e);for(var i=t.length;i--;)if(i in t&&t[i]===e)return i;return-1},w.range=function(t,e,i){1>=arguments.length&&(e=t||0,t=0);for(var i=arguments[2]||1,n=Math.max(Math.ceil((e-t)/i),0),s=0,r=Array(n);n>s;)r[s++]=t,t+=i;return r};var C=function(){};w.bind=function(t,e){var i,n;if(t.bind===_&&_)return _.apply(t,o.call(arguments,1));if(!w.isFunction(t))throw new TypeError;return n=o.call(arguments,2),i=function(){if(this instanceof i){C.prototype=t.prototype;var s=new C,r=t.apply(s,n.concat(o.call(arguments)));return Object(r)===r?r:s}return t.apply(e,n.concat(o.call(arguments)))}},w.bindAll=function(t){var e=o.call(arguments,1);return e.length==0&&(e=w.functions(t)),k(e,function(e){t[e]=w.bind(t[e],t)}),t},w.memoize=function(t,e){var i={};return e||(e=w.identity),function(){var n=e.apply(this,arguments);return w.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},w.delay=function(t,e){var i=o.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},w.defer=function(t){return w.delay.apply(w,[t,1].concat(o.call(arguments,1)))},w.throttle=function(t,e){var i,n,s,r,o,a,l=w.debounce(function(){o=r=!1},e);return function(){return i=this,n=arguments,s||(s=setTimeout(function(){s=null,o&&t.apply(i,n),l()},e)),r?o=!0:a=t.apply(i,n),l(),r=!0,a}},w.debounce=function(t,e,i){var n;return function(){var s=this,r=arguments;i&&!n&&t.apply(s,r),clearTimeout(n),n=setTimeout(function(){n=null,i||t.apply(s,r)},e)}},w.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments))}},w.wrap=function(t,e){return function(){var i=[t].concat(o.call(arguments,0));return e.apply(this,i)}},w.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},w.after=function(t,e){return t>0?function(){return 1>--t?e.apply(this,arguments):void 0}:e()},w.keys=y||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e,i=[];for(e in t)w.has(t,e)&&(i[i.length]=e);return i},w.values=function(t){return w.map(t,w.identity)},w.functions=w.methods=function(t){var e,i=[];for(e in t)w.isFunction(t[e])&&i.push(e);return i.sort()},w.extend=function(t){return k(o.call(arguments,1),function(e){for(var i in e)t[i]=e[i]}),t},w.pick=function(t){var e={};return k(w.flatten(o.call(arguments,1)),function(i){i in t&&(e[i]=t[i])}),e},w.defaults=function(t){return k(o.call(arguments,1),function(e){for(var i in e)t[i]==null&&(t[i]=e[i])}),t},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isEqual=function(e,i){return t(e,i,[])},w.isEmpty=function(t){if(t==null)return!0;if(w.isArray(t)||w.isString(t))return t.length===0;for(var e in t)if(w.has(t,e))return!1;return!0},w.isElement=function(t){return!!t&&t.nodeType==1},w.isArray=r||function(t){return l.call(t)=="[object Array]"},w.isObject=function(t){return t===Object(t)},w.isArguments=function(t){return l.call(t)=="[object Arguments]"},w.isArguments(arguments)||(w.isArguments=function(t){return!!t&&!!w.has(t,"callee")}),w.isFunction=function(t){return l.call(t)=="[object Function]"},w.isString=function(t){return l.call(t)=="[object String]"},w.isNumber=function(t){return l.call(t)=="[object Number]"},w.isFinite=function(t){return w.isNumber(t)&&isFinite(t)},w.isNaN=function(t){return t!==t},w.isBoolean=function(t){return t===!0||t===!1||l.call(t)=="[object Boolean]"},w.isDate=function(t){return l.call(t)=="[object Date]"},w.isRegExp=function(t){return l.call(t)=="[object RegExp]"},w.isNull=function(t){return t===null},w.isUndefined=function(t){return t===void 0},w.has=function(t,e){return u.call(t,e)},w.noConflict=function(){return e._=i,this},w.identity=function(t){return t},w.times=function(t,e,i){for(var n=0;t>n;n++)e.call(i,n)},w.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},w.result=function(t,e){if(t==null)return null;var i=t[e];return w.isFunction(i)?i.call(t):i},w.mixin=function(t){k(w.functions(t),function(e){N(e,w[e]=t[e])})};var D=0;w.uniqueId=function(t){var e=D++;return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S,T=/.^/,I={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(S in I)I[I[S]]=S;var M=/\\|'|\r|\n|\t|\u2028|\u2029/g,P=/\\(\\|'|r|n|t|u2028|u2029)/g,E=function(t){return t.replace(P,function(t,e){return I[e]})};w.template=function(t,e,i){i=w.defaults(i||{},w.templateSettings),t="__p+='"+t.replace(M,function(t){return"\\"+I[t]}).replace(i.escape||T,function(t,e){return"'+\n_.escape("+E(e)+")+\n'"}).replace(i.interpolate||T,function(t,e){return"'+\n("+E(e)+")+\n'"}).replace(i.evaluate||T,function(t,e){return"';\n"+E(e)+"\n;__p+='"})+"';\n",i.variable||(t="with(obj||{}){\n"+t+"}\n");var t="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+t+"return __p;\n",n=Function(i.variable||"obj","_",t);return e?n(e,w):(e=function(t){return n.call(this,t,w)},e.source="function("+(i.variable||"obj")+"){\n"+t+"}",e)},w.chain=function(t){return w(t).chain()};var A=function(t){this._wrapped=t};w.prototype=A.prototype;var O=function(t,e){return e?w(t).chain():t},N=function(t,e){A.prototype[t]=function(){var t=o.call(arguments);return a.call(t,this._wrapped),O(e.apply(w,t),this._chain)}};w.mixin(w),k("pop,push,reverse,shift,sort,splice,unshift".split(","),function(t){var e=s[t];A.prototype[t]=function(){var i=this._wrapped;e.apply(i,arguments);var n=i.length;return(t=="shift"||t=="splice")&&n===0&&delete i[0],O(i,this._chain)}}),k(["concat","join","slice"],function(t){var e=s[t];A.prototype[t]=function(){return O(e.apply(this._wrapped,arguments),this._chain)}}),A.prototype.chain=function(){return this._chain=!0,this},A.prototype.value=function(){return this._wrapped}}.call(this),define("underscore",function(t){return function(){var e;return e||t._}}(this)),function(){var t,e=this,i=e.Backbone,n=Array.prototype.slice,s=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var r=e._;!r&&"undefined"!=typeof require&&(r=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;t.setDomLibrary=function(t){o=t},t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=/\s+/,l=t.Events={on:function(t,e,i){var n,s,r,o,l;if(!e)return this;for(t=t.split(a),n=this._callbacks||(this._callbacks={});s=t.shift();)r=(l=n[s])?l.tail:{},r.next=o={},r.context=i,r.callback=e,n[s]={tail:o,next:l?l.next:r};return this},off:function(t,e,i){var n,s,o,l,u,h;if(s=this._callbacks){if(!t&&!e&&!i)return delete this._callbacks,this;for(t=t?t.split(a):r.keys(s);n=t.shift();)if(o=s[n],delete s[n],o&&(e||i))for(l=o.tail;(o=o.next)!==l;)u=o.callback,h=o.context,(e&&u!==e||i&&h!==i)&&this.on(n,u,h);return this}},trigger:function(t){var e,i,s,r,o,l;if(!(s=this._callbacks))return this;for(o=s.all,t=t.split(a),l=n.call(arguments,1);e=t.shift();){if(i=s[e])for(r=i.tail;(i=i.next)!==r;)i.callback.apply(i.context||this,l);if(i=o)for(r=i.tail,e=[e].concat(l);(i=i.next)!==r;)i.callback.apply(i.context||this,e)}return this}};l.bind=l.on,l.unbind=l.off;var u=t.Model=function(t,e){var i;t||(t={}),e&&e.parse&&(t=this.parse(t)),(i=C(this,"defaults"))&&(t=r.extend({},i,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=r.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=r.clone(this.attributes),this.initialize.apply(this,arguments)};r.extend(u.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return r.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;return(e=this._escapedAttributes[t])?e:(e=this.get(t),this._escapedAttributes[t]=r.escape(null==e?"":""+e))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var n,s;if(r.isObject(t)||null==t?(n=t,i=e):(n={},n[t]=e),i||(i={}),!n)return this;if(n instanceof u&&(n=n.attributes),i.unset)for(s in n)n[s]=void 0;if(!this._validate(n,i))return!1;this.idAttribute in n&&(this.id=n[this.idAttribute]);var e=i.changes={},o=this.attributes,a=this._escapedAttributes,l=this._previousAttributes||{};for(s in n)t=n[s],(!r.isEqual(o[s],t)||i.unset&&r.has(o,s))&&(delete a[s],(i.silent?this._silent:e)[s]=!0),i.unset?delete o[s]:o[s]=t,r.isEqual(l[s],t)&&r.has(o,s)==r.has(l,s)?(delete this.changed[s],delete this._pending[s]):(this.changed[s]=t,i.silent||(this._pending[s]=!0));return i.silent||this.change(i),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(r.clone(this.attributes),t)},fetch:function(e){var e=e?r.clone(e):{},i=this,n=e.success;return e.success=function(t,s,r){return i.set(i.parse(t,r),e)?(n&&n(i,t),void 0):!1},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,i,n){var s,o;if(r.isObject(e)||null==e?(s=e,n=i):(s={},s[e]=i),n=n?r.clone(n):{},n.wait){if(!this._validate(s,n))return!1;o=r.clone(this.attributes)}if(e=r.extend({},n,{silent:!0}),s&&!this.set(s,n.wait?e:n))return!1;var a=this,l=n.success;return n.success=function(t,e,i){return e=a.parse(t,i),n.wait&&(delete n.wait,e=r.extend(s||{},e)),a.set(e,n)?(l?l(a,t):a.trigger("sync",a,t,n),void 0):!1},n.error=t.wrapError(n.error,a,n),i=this.isNew()?"create":"update",i=(this.sync||t.sync).call(this,i,this,n),n.wait&&this.set(o,e),i},destroy:function(e){var e=e?r.clone(e):{},i=this,n=e.success,s=function(){i.trigger("destroy",i,i.collection,e)};if(this.isNew())return s(),!1;e.success=function(t){e.wait&&s(),n?n(i,t):i.trigger("sync",i,t,e)},e.error=t.wrapError(e.error,i,e);var o=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||s(),o},url:function(){var t=C(this,"urlRoot")||C(this.collection,"url")||D();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var i in this._silent)this._pending[i]=!0;var n=r.extend({},t.changes,this._silent);this._silent={};for(i in n)this.trigger("change:"+i,this,this.get(i),t);if(e)return this;for(;!r.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(i in this.changed)!this._pending[i]&&!this._silent[i]&&delete this.changed[i];this._previousAttributes=r.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?r.has(this.changed,t):!r.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return this.hasChanged()?r.clone(this.changed):!1;var e,i,n=!1,s=this._previousAttributes;for(i in t)r.isEqual(s[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;var t=r.extend({},this.attributes,t),i=this.validate(t,e);return i?(e&&e.error?e.error(this,i,e):this.trigger("error",this,i,e),!1):!0}});var h=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};r.extend(h.prototype,l,{model:u,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var i,n,o,a,l,u={},h={},c=[];for(e||(e={}),t=r.isArray(t)?t.slice():[t],i=0,n=t.length;n>i;i++){if(!(o=t[i]=this._prepareModel(t[i],e)))throw Error("Can't add an invalid model to a collection");a=o.cid,l=o.id,u[a]||this._byCid[a]||null!=l&&(h[l]||this._byId[l])?c.push(i):u[a]=h[l]=o}for(i=c.length;i--;)t.splice(c[i],1);for(i=0,n=t.length;n>i;i++)(o=t[i]).on("all",this._onModelEvent,this),this._byCid[o.cid]=o,null!=o.id&&(this._byId[o.id]=o);if(this.length+=n,s.apply(this.models,[null!=e.at?e.at:this.models.length,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(i=0,n=this.models.length;n>i;i++)u[(o=this.models[i]).cid]&&(e.index=i,o.trigger("add",o,this,e));return this},remove:function(t,e){var i,n,s,o;for(e||(e={}),t=r.isArray(t)?t.slice():[t],i=0,n=t.length;n>i;i++)(o=this.getByCid(t[i])||this.get(t[i]))&&(delete this._byId[o.id],delete this._byCid[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,e.silent||(e.index=s,o.trigger("remove",o,this,e)),this._removeReference(o));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,r.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return r.isEmpty(t)?[]:this.filter(function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw Error("Cannot sort a set without a comparator");var e=r.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return r.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return this._reset(),this.add(t,r.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var i=this,n=e.success;return e.success=function(t,s,r){i[e.add?"add":"reset"](i.parse(t,r),e),n&&n(i,t)},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var i=this,e=e?r.clone(e):{},t=this._prepareModel(t,e);if(!t)return!1;e.wait||i.add(t,e);var n=e.success;return e.success=function(s,r){e.wait&&i.add(s,e),n?n(s,r):s.trigger("sync",t,r,e)},t.save(null,e),t},parse:function(t){return t},chain:function(){return r(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){return e||(e={}),t instanceof u?t.collection||(t.collection=this):(e.collection=this,t=new this.model(t,e),t._validate(t.attributes,e)||(t=!1)),t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"==t||"remove"==t)&&i!=this||("destroy"==t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}}),r.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),function(t){h.prototype[t]=function(){return r[t].apply(r,[this.models].concat(r.toArray(arguments)))}});var c=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},d=/:\w+/g,p=/\*\w+/g,f=/[-[\]{}()+?.,\\^$|#\s]/g;r.extend(c.prototype,l,{initialize:function(){},route:function(e,i,n){return t.history||(t.history=new g),r.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[i]),t.history.route(e,r.bind(function(s){s=this._extractParameters(e,s),n&&n.apply(this,s),this.trigger.apply(this,["route:"+i].concat(s)),t.history.trigger("route",this,i,s)},this)),this},navigate:function(e,i){t.history.navigate(e,i)},_bindRoutes:function(){if(this.routes){var t,e=[];for(t in this.routes)e.unshift([t,this.routes[t]]);t=0;for(var i=e.length;i>t;t++)this.route(e[t][0],e[t][1],this[e[t][1]])}},_routeToRegExp:function(t){return t=t.replace(f,"\\$&").replace(d,"([^/]+)").replace(p,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var g=t.History=function(){this.handlers=[],r.bindAll(this,"checkUrl")},m=/^[#\/]/,v=/msie [\w.]+/;g.started=!1,r.extend(g.prototype,l,{interval:50,getHash:function(t){return(t=(t?t.location:window.location).href.match(/#(.*)$/))?t[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){var t=window.location.pathname,i=window.location.search;i&&(t+=i)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(m,"")},start:function(t){if(g.started)throw Error("Backbone.history has already been started");g.started=!0,this.options=r.extend({},{root:"/"},this.options,t),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=this.options.pushState&&window.history&&window.history.pushState;
var t=this.getFragment(),e=document.documentMode;return(e=v.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e))&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t,t=window.location,e=t.pathname==this.options.root,this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!e?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&e&&t.hash&&(this.fragment=this.getHash().replace(m,""),window.history.replaceState({},document.title,t.protocol+"//"+t.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return r.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(t,e){if(!g.started)return!1;e&&!0!==e||(e={trigger:e});var i=(t||"").replace(m,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[e.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,e.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,i){i?t.replace((t+"").replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var b=t.View=function(t){this.cid=r.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},y=/^(\S+)\s*(.*)$/,_="model,collection,el,id,attributes,className,tagName".split(",");r.extend(b.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,i){return t=document.createElement(t),e&&o(t).attr(e),i&&o(t).html(i),t},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof o?t:o(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=C(this,"events"))){this.undelegateEvents();for(var e in t){var i=t[e];if(r.isFunction(i)||(i=this[t[e]]),!i)throw Error('Method "'+t[e]+'" does not exist');var n=e.match(y),s=n[1],n=n[2],i=r.bind(i,this),s=s+(".delegateEvents"+this.cid);""===n?this.$el.bind(s,i):this.$el.delegate(n,s,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=r.extend({},this.options,t));for(var e=0,i=_.length;i>e;e++){var n=_[e];t[n]&&(this[n]=t[n])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=C(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.setElement(this.make(this.tagName,t),!1)}}}),u.extend=h.extend=c.extend=b.extend=function(t,e){var i=x(this,t,e);return i.extend=this.extend,i};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,i,n){var s=w[e];n||(n={});var a={type:s,dataType:"json"};return n.url||(a.url=C(i,"url")||D()),!n.data&&i&&("create"==e||"update"==e)&&(a.contentType="application/json",a.data=JSON.stringify(i.toJSON())),t.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),t.emulateHTTP&&("PUT"===s||"DELETE"===s)&&(t.emulateJSON&&(a.data._method=s),a.type="POST",a.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",s)}),"GET"!==a.type&&!t.emulateJSON&&(a.processData=!1),o.ajax(r.extend(a,n))},t.wrapError=function(t,e,i){return function(n,s){s=n===e?s:n,t?t(e,s,i):e.trigger("error",e,s,i)}};var k=function(){},x=function(t,e,i){var n;return n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(n,t),k.prototype=t.prototype,n.prototype=new k,e&&r.extend(n.prototype,e),i&&r.extend(n,i),n.prototype.constructor=n,n.__super__=t.prototype,n},C=function(t,e){return t&&t[e]?r.isFunction(t[e])?t[e]():t[e]:null},D=function(){throw Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore"],function(t){return function(){var e;return e||t.Backbone}}(this)),function(t){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?t(require("knockout"),exports):"function"==typeof define&&define.amd?define("knockout-mapping",["knockout","exports"],t):t(ko,ko.mapping={})}(function(t,e){function i(t,n){for(var s in n)if(n.hasOwnProperty(s)&&n[s])if(s&&t[s]&&"array"!==e.getType(t[s]))i(t[s],n[s]);else if("array"===e.getType(t[s])&&"array"===e.getType(n[s])){for(var r=t,o=s,a=t[s],l=n[s],u={},h=a.length-1;h>=0;--h)u[a[h]]=a[h];for(h=l.length-1;h>=0;--h)u[l[h]]=l[h];a=[],l=void 0;for(l in u)a.push(u[l]);r[o]=a}else t[s]=n[s]}function n(t,e){var n={};return i(n,t),i(n,e),n}function s(t,e){for(var i=n({},t),s=_.length-1;s>=0;s--){var o=_[s];i[o]&&(i[""]instanceof Object||(i[""]={}),i[""][o]=i[o],delete i[o])}return e&&(i.ignore=r(e.ignore,i.ignore),i.include=r(e.include,i.include),i.copy=r(e.copy,i.copy)),i.ignore=r(i.ignore,x.ignore),i.include=r(i.include,x.include),i.copy=r(i.copy,x.copy),i.mappedProperties=i.mappedProperties||{},i}function r(i,n){return"array"!==e.getType(i)&&(i="undefined"===e.getType(i)?[]:[i]),"array"!==e.getType(n)&&(n="undefined"===e.getType(n)?[]:[n]),t.utils.arrayGetDistinctValues(i.concat(n))}function o(i,s,r,l,p,f,y){var _="array"===e.getType(t.utils.unwrapObservable(s)),f=f||"";if(e.isMapped(i))var k=t.utils.unwrapObservable(i)[v],r=n(k,r);var x=function(){return r[l]&&r[l].create instanceof Function},C=function(e){var i=g,n=t.dependentObservable;return t.dependentObservable=function(e,n,s){s=s||{},e&&"object"==typeof e&&(s=e);var r=s.deferEvaluation,o=!1;if(s.deferEvaluation=!0,e=new b(e,n,s),!r){var a=e,r=t.dependentObservable;t.dependentObservable=b,e=t.isWriteableObservable(a),t.dependentObservable=r,e=b({read:function(){return o||(t.utils.arrayRemoveItem(i,a),o=!0),a.apply(a,arguments)},write:e&&function(t){return a(t)},deferEvaluation:!0}),i.push(e)}return e},t.dependentObservable.fn=b.fn,t.computed=t.dependentObservable,e=t.utils.unwrapObservable(p)instanceof Array?r[l].create({data:e||s,parent:y,skip:w}):r[l].create({data:e||s,parent:y}),t.dependentObservable=n,t.computed=t.dependentObservable,e},D=function(){return r[l]&&r[l].update instanceof Function},S=function(e,i){var n={data:i||s,parent:y,target:t.utils.unwrapObservable(e)};return t.isWriteableObservable(e)&&(n.observable=e),r[l].update(n)};if(k=m.get(s))return k;if(l=l||"",_){var _=[],T=!1,I=function(t){return t};r[l]&&r[l].key&&(I=r[l].key,T=!0),t.isObservable(i)||(i=t.observableArray([]),i.mappedRemove=function(t){var e=typeof t=="function"?t:function(e){return e===I(t)};return i.remove(function(t){return e(I(t))})},i.mappedRemoveAll=function(e){var n=h(e,I);return i.remove(function(e){return t.utils.arrayIndexOf(n,I(e))!=-1})},i.mappedDestroy=function(t){var e=typeof t=="function"?t:function(e){return e===I(t)};return i.destroy(function(t){return e(I(t))})},i.mappedDestroyAll=function(e){var n=h(e,I);return i.destroy(function(e){return t.utils.arrayIndexOf(n,I(e))!=-1})},i.mappedIndexOf=function(e){var n=h(i(),I),e=I(e);return t.utils.arrayIndexOf(n,e)},i.mappedCreate=function(e){if(i.mappedIndexOf(e)!==-1)throw Error("There already is an object with the key that you specified.");var n=x()?C(e):e;return D()&&(e=S(n,e),t.isWriteableObservable(n)?n(e):n=e),i.push(n),n});var k=h(t.utils.unwrapObservable(i),I).sort(),M=h(s,I);T&&M.sort();var P,T=t.utils.compareArrays(k,M),k={},E=t.utils.unwrapObservable(s),A={},O=!0,M=0;for(P=E.length;P>M;M++){var N=I(E[M]);if(void 0===N||N instanceof Object){O=!1;break}A[N]=E[M]}var E=[],z=0,M=0;for(P=T.length;P>M;M++){var $,N=T[M],H=f+"["+M+"]";switch(N.status){case"added":var W=O?A[N.value]:u(t.utils.unwrapObservable(s),N.value,I);$=o(void 0,W,r,l,i,H,p),x()||($=t.utils.unwrapObservable($)),H=a(t.utils.unwrapObservable(s),W,k),$===w?z++:E[H-z]=$,k[H]=!0;break;case"retained":W=O?A[N.value]:u(t.utils.unwrapObservable(s),N.value,I),$=u(i,N.value,I),o($,W,r,l,i,H,p),H=a(t.utils.unwrapObservable(s),W,k),E[H]=$,k[H]=!0;break;case"deleted":$=u(i,N.value,I)}_.push({event:N.status,item:$})}i(E),r[l]&&r[l].arrayChanged&&t.utils.arrayForEach(_,function(t){r[l].arrayChanged(t.event,t.item)})}else if(d(s)){if(i=t.utils.unwrapObservable(i),!i){if(x())return T=C(),D()&&(T=S(T)),T;if(D())return S(T);i={}}D()&&(i=S(i)),m.save(s,i),c(s,function(e){var n=f.length?f+"."+e:e;if(-1==t.utils.arrayIndexOf(r.ignore,n))if(-1!=t.utils.arrayIndexOf(r.copy,n))i[e]=s[e];else{var a=m.get(s[e]),l=o(i[e],s[e],r,e,i,n,i),a=a||l;t.isWriteableObservable(i[e])?i[e](t.utils.unwrapObservable(a)):i[e]=a,r.mappedProperties[n]=!0}})}else switch(e.getType(s)){case"function":D()?t.isWriteableObservable(s)?(s(S(s)),i=s):i=S(s):i=s;break;default:if(t.isWriteableObservable(i))return $=D()?S(i):t.utils.unwrapObservable(s),i($),$;i=x()?C():t.observable(t.utils.unwrapObservable(s))}return i}function a(t,e,i){for(var n=0,s=t.length;s>n;n++)if(!0!==i[n]&&t[n]===e)return n;return null}function l(i,n){var s;return n&&(s=n(i)),"undefined"===e.getType(s)&&(s=i),t.utils.unwrapObservable(s)}function u(e,i,n){for(var e=t.utils.unwrapObservable(e),s=0,r=e.length;r>s;s++){var o=e[s];if(l(o,n)===i)return o}throw Error("When calling ko.update*, the key '"+i+"' was not found!")}function h(e,i){return t.utils.arrayMap(t.utils.unwrapObservable(e),function(t){return i?l(t,i):t})}function c(t,i){if("array"===e.getType(t))for(var n=0;t.length>n;n++)i(n);else for(n in t)i(n)}function d(t){var i=e.getType(t);return("object"===i||"array"===i)&&null!==t}function p(){var e=[],i=[];this.save=function(n,s){var r=t.utils.arrayIndexOf(e,n);0>r?(e.push(n),i.push(s)):i[r]=s},this.get=function(n){return n=t.utils.arrayIndexOf(e,n),0>n?void 0:i[n]}}function f(){var t={},e=function(e){var i;try{i=e}catch(n){i="$$$"}return e=t[i],void 0===e&&(e=new p,t[i]=e),e};this.save=function(t,i){e(t).save(t,i)},this.get=function(t){return e(t).get(t)}}var g,m,v="__ko_mapping__",b=t.dependentObservable,y=0,_=["create","update","key","arrayChanged"],w={},k={include:["_destroy"],ignore:[],copy:[]},x=k;e.isMapped=function(e){return(e=t.utils.unwrapObservable(e))&&e[v]},e.fromJS=function(t){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){y=0},0),y++||(g=[],m=new f);var e,i;2==arguments.length&&(arguments[1][v]?i=arguments[1]:e=arguments[1]),3==arguments.length&&(e=arguments[1],i=arguments[2]),i&&(e=n(e,i[v])),e=s(e);var r=o(i,t,e);return i&&(r=i),--y||window.setTimeout(function(){for(;g.length;){var t=g.pop();t&&t()}},0),r[v]=n(r[v],e),r},e.fromJSON=function(i){var n=t.utils.parseJson(i);return arguments[0]=n,e.fromJS.apply(this,arguments)},e.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},e.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},e.toJS=function(i,n){if(x||e.resetDefaultOptions(),0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==e.getType(x.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==e.getType(x.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==e.getType(x.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");return n=s(n,i[v]),e.visitModel(i,function(e){return t.utils.unwrapObservable(e)},n)},e.toJSON=function(i,n){var s=e.toJS(i,n);return t.utils.stringifyJson(s)},e.defaultOptions=function(){return arguments.length>0?(x=arguments[0],void 0):x},e.resetDefaultOptions=function(){x={include:k.include.slice(0),ignore:k.ignore.slice(0),copy:k.copy.slice(0)}},e.getType=function(t){if(t&&"object"==typeof t){if(t.constructor==(new Date).constructor)return"date";if("[object Array]"===Object.prototype.toString.call(t))return"array"}return typeof t},e.visitModel=function(i,n,r){r=r||{},r.visitedObjects=r.visitedObjects||new f;var o,a=t.utils.unwrapObservable(i);if(!d(a))return n(i,r.parentName);r=s(r,a[v]),n(i,r.parentName),o="array"===e.getType(a)?[]:{},r.visitedObjects.save(i,o);var l=r.parentName;return c(a,function(i){if(!r.ignore||-1==t.utils.arrayIndexOf(r.ignore,i)){var s=a[i],u=r,h=l||"";if("array"===e.getType(a)?l&&(h+="["+i+"]"):(l&&(h+="."),h+=i),u.parentName=h,-1!==t.utils.arrayIndexOf(r.copy,i)||-1!==t.utils.arrayIndexOf(r.include,i)||!a[v]||!a[v].mappedProperties||a[v].mappedProperties[i]||"array"===e.getType(a))switch(e.getType(t.utils.unwrapObservable(s))){case"object":case"array":case"undefined":u=r.visitedObjects.get(s),o[i]="undefined"!==e.getType(u)?u:e.visitModel(s,n,r);break;default:o[i]=n(s,r.parentName)}}}),o}}),define("util/months",["require","exports","module"],function(t,e,i){i.exports=["January","February","March","April","May","June","July","August","September","October","November","December"]}),define("util/time-units",{SECOND:1e3,MINUTE:6e4,HALF_HOUR:18e5,HOUR:36e5,DAY:864e5,WEEK:6048e5,MONTH:2592e6}),define("util/date-formats",["require","exports","module","./months","./time-units"],function(t,e){var i=t("./months"),n=t("./time-units");e.full=function(t){var e=i[t.getMonth()],n=12>t.getHours()?"am":"pm",s=t.getHours()%12,r=t.getMinutes()+"";return 2>r.length&&(r="0"+r),s===0&&(s=12),s+":"+r+" "+n+", "+e+" "+t.getDate()},e.countdown=function(t,e){e||(e=new Date);var i=t.getTime()-e.getTime();return-n.MINUTE*30>i?"Already started":n.MINUTE>i?"Starting now!":n.HOUR*1.5>i?"Starts in "+(i/n.MINUTE).toFixed(0)+" minutes":n.HOUR*48>i?"Starts in "+(i/n.HOUR).toFixed(0)+" hours":"Starts in "+(i/n.DAY).toFixed(0)+" days"}}),define("state/game-listing",["require","exports","module","knockout","knockout-mapping","util/date-formats","app"],function(t,e,i){function n(t,e){return t=o.fromJS(t,s),t.formattedTime=r.computed(function(){return a.full(new Date(t.date()))},t),t.countdown=r.computed(function(){return a.countdown(new Date(t.date()),e())},t),t.navigate=function(){l.navigate("lobby/"+r.utils.unwrapObservable(t.id),!0)},t}var s={copy:["id"]},r=t("knockout"),o=t("knockout-mapping"),a=t("util/date-formats"),l=t("app");i.exports=n}),define("state/index",["require","exports","module","knockout","knockout-mapping","app","util/months","util/time-units","util/date-formats","./game-listing"],function(t,e,i){function n(){function t(){dpd.games.get({timeMillis:{$gt:e.timeCutoff()},$limit:l+1,$sort:{timeMillis:1}},function(t,n){n||(e.loaded(!0),t.length>l?(t.pop(),e.moreAvailable(!0)):e.moreAvailable(!1),r.fromJS({games:t},i,e))})}var e={games:s.observableArray(),loaded:s.observable(!1),moreAvailable:s.observable(!1),now:s.observable(new Date),loadingMore:s.observable(!1)},i={games:{copy:["id"],key:function(t){return s.utils.unwrapObservable(t.id)},create:function(t){return a(t.data,e.now)}}};e.timeCutoff=s.computed(function(){return e.now().getTime()-o.HALF_HOUR}),e.orderedGames=s.computed(function(){var t=e.games();return t=t.filter(function(t){return t.timeMillis()>e.timeCutoff()}).sort(function(t,e){return t.timeMillis()-e.timeMillis()})},e),e.loadGames=t,e.loadMore=function(){var t,n=r.toJS(e.orderedGames()),s=n[n.length-1],o=s.timeMillis;t=n.map(function(t){return t.id}),e.loadingMore(!0),dpd.games.get({timeMillis:{$gte:o},id:{$nin:t},$limit:l+1,$sort:{timeMillis:1}},function(t,s){if(e.loadingMore(!1),!s){t.length>l?(t.pop(),e.moreAvailable(!0)):e.moreAvailable(!1);var o=n.concat(t);r.fromJS({games:o},i,e)}})},dpd.games.on("create",function(t){var i=e.orderedGames(),n=i[i.length-1];!e.moreAvailable()&&l>e.orderedGames().length||n.timeMillis()>t.timeMillis?e.games.push(a(t,e.now)):e.moreAvailable(!0)}),dpd.games.on("update",function(t){e.games().forEach(function(e){return e.id==t.id?(r.fromJS(t,null,e),!1):void 0})}),dpd.games.on("remove",function(i){e.games().forEach(function(n){return n.id==i.id?(e.games.remove(n),l>e.orderedGames.length&&t(),!1):void 0})}),t();var n=setInterval(function(){l>e.orderedGames.length&&t()},o.MINUTE),u=setInterval(function(){e.now(new Date)},30*o.SECOND);return e._close=function(){clearInterval(u),clearInterval(n)},e}var s=t("knockout"),r=t("knockout-mapping"),o=(t("app"),t("util/months"),t("util/time-units")),a=(t("util/date-formats"),t("./game-listing")),l=5;i.exports=n}),define("bindings/blink",["require","exports","module","knockout"],function(t){var e=t("knockout");e.bindingHandlers.blink={init:function(t,e,i,n){var s=e(),r=i(),o=r.blinkDuration||200;s.subscribe(function(){$(t).hide(),setTimeout(function(){$(t).show()},o)},n,"blink")}}}),define("state/register",["require","exports","module","knockout","app","bindings/blink"],function(t,e,i){function n(t){var e={username:s.observable(),password:s.observable(),confirmPassword:s.observable(),minecraftName:s.observable(),email:s.observable(),postbox:new s.subscribable,errors:s.observable({}),saving:s.observable(!1),usernameAvailable:s.observable(),confirmPasswordBlurred:s.observable(!1)};e.goBack=function(){r.navigate(t||"",{trigger:!0})},e.register=function(){if(e.password()!==e.confirmPassword())return e.confirmPasswordBlurred(!0),e.postbox.notifySubscribers(!0,"blink"),void 0;var t={username:e.username(),password:e.password(),minecraftName:e.minecraftName(),email:e.email()};e.errors({}),e.saving(!0),dpd.users.post(t,function(t,i){return i?(e.saving(!1),e.postbox.notifySubscribers(!0,"blink"),e.errors(i.errors||{}),i.message&&alert(i.message),void 0):(dpd.users.login({username:t.username,password:e.password()},function(){e.saving(!1),dpd.users.me(function(t){r.currentUser(t),e.goBack()})}),void 0)})},e.usernameError=s.computed(function(){return e.errors().username?e.errors().username:e.username&&e.usernameAvailable()===!1?"That username is already registered":e.username&&e.usernameAvailable()===!0?"Username is available!":void 0}),e.minecraftNameError=s.computed(function(){return console.log(e.errors()),e.errors().minecraftName?e.errors().minecraftName:void 0}),e.passwordError=s.computed(function(){return e.errors().password?e.errors().password:void 0}),e.confirmPasswordError=s.computed(function(){return e.password()&&e.confirmPasswordBlurred()&&e.password()!==e.confirmPassword()?"Passwords do not match":void 0},e),e.emailError=s.computed(function(){return e.errors().email?e.errors().email:void 0}),s.computed(function(){e.username()&&dpd.users.get({$limit:1,username:e.username()},function(t){t.length?e.usernameAvailable(!1):e.usernameAvailable(!0)})},e).extend({throttle:500});var i=!0;return e.username.subscribe(function(t){i&&e.minecraftName(t)}),e.minecraftName.subscribe(function(t){t!==e.username()&&(i=!1)}),e}var s=t("knockout"),r=t("app");t("bindings/blink"),i.exports=n}),define("util/days-of-week",["require","exports","module"],function(t,e,i){i.exports=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}),define("bindings/integer-value",["require","exports","module","knockout"],function(t){function e(t,e){var i=parseInt($(t).val(),10);e(i)}var i=t("knockout");i.bindingHandlers.integerValue={init:function(t,n,s){var r=n(),o=s(),a=o.valueUpdate||"blur";if($(t).val(i.utils.unwrapObservable(r)),typeof r=="function"){if(a==="afterinput"){var l=0;$(t).on("keypress",function(){l++,setTimeout(function(){l--},1)}),$(t).on("input",function(){l===0&&e(t,r)})}$(t).blur(function(){e(t,r)})}},update:function(t,e){$(t).val(i.utils.unwrapObservable(e()))}}}),function(t,e){function i(e,i){var s=e.nodeName.toLowerCase();if("area"===s){var r,o=e.parentNode,a=o.name;return e.href&&a&&o.nodeName.toLowerCase()==="map"?(r=t("img[usemap=#"+a+"]")[0],!!r&&n(r)):!1}return(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"==s?e.href||i:i)&&n(e)}function n(e){return!t(e).parents().andSelf().filter(function(){return t.curCSS(this,"visibility")==="hidden"||t.expr.filters.hidden(this)}).length}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,i){return typeof e=="number"?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length){var n,s,r=t(this[0]);while(r.length&&r[0]!==document){if(n=r.css("position"),(n==="absolute"||n==="relative"||n==="fixed")&&(s=parseInt(r.css("zIndex"),10),!isNaN(s)&&s!==0))return s;r=r.parent()}}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(r,function(){i-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,n&&(i-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),s&&(i-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),i}var r=n==="Width"?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return typeof e!="number"?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=i.offsetHeight===100,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t.curCSS||(t.curCSS=t.css),t.extend(t.ui,{plugin:{add:function(e,i,n){var s=t.ui[e].prototype;for(var r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(t,e,i){var n=t.plugins[e];if(n&&t.element[0].parentNode)for(var s=0;n.length>s;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},contains:function(t,e){return document.compareDocumentPosition?t.compareDocumentPosition(e)&16:t!==e&&t.contains(e)},hasScroll:function(e,i){if(t(e).css("overflow")==="hidden")return!1;var n=i&&i==="left"?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,n,s,r,o){return t.ui.isOverAxis(e,n,r)&&t.ui.isOverAxis(i,s,o)}}))}(jQuery),function(t,e){if(t.cleanData){var i=t.cleanData;t.cleanData=function(e){for(var n,s=0;(n=e[s])!=null;s++)try{t(n).triggerHandler("remove")}catch(r){}i(e)}}else{var n=t.fn.remove;t.fn.remove=function(e,i){return this.each(function(){return i||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),n.call(t(this),e,i)})}}t.widget=function(e,i,n){var s,r=e.split(".")[0];e=e.split(".")[1],s=r+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s]=function(i){return!!t.data(i,e)},t[r]=t[r]||{},t[r][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var o=new i;o.options=t.extend(!0,{},o.options),t[r][e].prototype=t.extend(!0,o,{namespace:r,widgetName:e,widgetEventPrefix:t[r][e].prototype.widgetEventPrefix||e,widgetBaseClass:s},n),t.widget.bridge(e,t[r][e])},t.widget.bridge=function(i,n){t.fn[i]=function(s){var r=typeof s=="string",o=Array.prototype.slice.call(arguments,1),a=this;return s=!r&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,r&&s.charAt(0)==="_"?a:(r?this.each(function(){var n=t.data(this,i),r=n&&t.isFunction(n[s])?n[s].apply(n,o):n;return r!==n&&r!==e?(a=r,!1):void 0}):this.each(function(){var e=t.data(this,i);e?e.option(s||{})._init():t.data(this,i,new n(s,this))}),a)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var s=i;if(arguments.length===0)return t.extend({},this.options);if(typeof i=="string"){if(n===e)return this.options[i];s={},s[i]=n}return this._setOptions(s),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,t==="disabled"&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,n){var s,r,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent,r)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(t.isFunction(o)&&o.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=i.which==1,r=typeof this.options.cancel=="string"&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.browser.msie&&9>document.documentMode&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.ui=t.ui||{};var e=/left|center|right/,i=/top|center|bottom/,n="center",s={},r=t.fn.position,o=t.fn.offset;t.fn.position=function(o){if(!o||!o.of)return r.apply(this,arguments);o=t.extend({},o);var a,l,u,h=t(o.of),c=h[0],d=(o.collision||"flip").split(" "),p=o.offset?o.offset.split(" "):[0,0];return c.nodeType===9?(a=h.width(),l=h.height(),u={top:0,left:0}):c.setTimeout?(a=h.width(),l=h.height(),u={top:h.scrollTop(),left:h.scrollLeft()}):c.preventDefault?(o.at="left top",a=l=0,u={top:o.of.pageY,left:o.of.pageX}):(a=h.outerWidth(),l=h.outerHeight(),u=h.offset()),t.each(["my","at"],function(){var t=(o[this]||"").split(" ");t.length===1&&(t=e.test(t[0])?t.concat([n]):i.test(t[0])?[n].concat(t):[n,n]),t[0]=e.test(t[0])?t[0]:n,t[1]=i.test(t[1])?t[1]:n,o[this]=t}),d.length===1&&(d[1]=d[0]),p[0]=parseInt(p[0],10)||0,p.length===1&&(p[1]=p[0]),p[1]=parseInt(p[1],10)||0,o.at[0]==="right"?u.left+=a:o.at[0]===n&&(u.left+=a/2),o.at[1]==="bottom"?u.top+=l:o.at[1]===n&&(u.top+=l/2),u.left+=p[0],u.top+=p[1],this.each(function(){var e,i=t(this),r=i.outerWidth(),h=i.outerHeight(),c=parseInt(t.curCSS(this,"marginLeft",!0))||0,f=parseInt(t.curCSS(this,"marginTop",!0))||0,g=r+c+(parseInt(t.curCSS(this,"marginRight",!0))||0),m=h+f+(parseInt(t.curCSS(this,"marginBottom",!0))||0),v=t.extend({},u);o.my[0]==="right"?v.left-=r:o.my[0]===n&&(v.left-=r/2),o.my[1]==="bottom"?v.top-=h:o.my[1]===n&&(v.top-=h/2),s.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),e={left:v.left-c,top:v.top-f},t.each(["left","top"],function(i,n){t.ui.position[d[i]]&&t.ui.position[d[i]][n](v,{targetWidth:a,targetHeight:l,elemWidth:r,elemHeight:h,collisionPosition:e,collisionWidth:g,collisionHeight:m,offset:p,my:o.my,at:o.at})
}),t.fn.bgiframe&&i.bgiframe(),i.offset(t.extend(v,{using:o.using}))})},t.ui.position={fit:{left:function(e,i){var n=t(window),s=i.collisionPosition.left+i.collisionWidth-n.width()-n.scrollLeft();e.left=s>0?e.left-s:Math.max(e.left-i.collisionPosition.left,e.left)},top:function(e,i){var n=t(window),s=i.collisionPosition.top+i.collisionHeight-n.height()-n.scrollTop();e.top=s>0?e.top-s:Math.max(e.top-i.collisionPosition.top,e.top)}},flip:{left:function(e,i){if(i.at[0]!==n){var s=t(window),r=i.collisionPosition.left+i.collisionWidth-s.width()-s.scrollLeft(),o=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,a=i.at[0]==="left"?i.targetWidth:-i.targetWidth,l=-2*i.offset[0];e.left+=0>i.collisionPosition.left?o+a+l:r>0?o+a+l:0}},top:function(e,i){if(i.at[1]!==n){var s=t(window),r=i.collisionPosition.top+i.collisionHeight-s.height()-s.scrollTop(),o=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,a=i.at[1]==="top"?i.targetHeight:-i.targetHeight,l=-2*i.offset[1];e.top+=0>i.collisionPosition.top?o+a+l:r>0?o+a+l:0}}}},t.offset.setOffset||(t.offset.setOffset=function(e,i){/static/.test(t.curCSS(e,"position"))&&(e.style.position="relative");var n=t(e),s=n.offset(),r=parseInt(t.curCSS(e,"top",!0),10)||0,o=parseInt(t.curCSS(e,"left",!0),10)||0,a={top:i.top-s.top+r,left:i.left-s.left+o};"using"in i?i.using.call(e,a):n.css(a)},t.fn.offset=function(e){var i=this[0];return i&&i.ownerDocument?e?t.isFunction(e)?this.each(function(i){t(this).offset(e.call(this,i,t(this).offset()))}):this.each(function(){t.offset.setOffset(this,e)}):o.call(this):null}),t.curCSS||(t.curCSS=t.css),function(){var e,i,n,r,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(var u in n)e.style[u]=n[u];e.appendChild(l),i=a||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",r=t(l).offset(function(t,e){return e}).offset(),e.innerHTML="",i.removeChild(e),o=r.top+r.left+(a?2e3:0),s.fractions=o>21&&22>o}()}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(e),this.handle?(i.iframeFix&&t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1);var n=this.element[0],s=!1;while(n&&(n=n.parentNode))n==document&&(s=!0);if(!s&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!i||this.options.revert=="valid"&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var r=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",e)!==!1&&r._clear()})}else this._trigger("stop",e)!==!1&&this._clear();return!1},_mouseUp:function(e){return this.options.iframeFix===!0&&t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=this.options.handle&&t(this.options.handle,this.element).length?!1:!0;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):i.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo(i.appendTo=="parent"?this.element[0].parentNode:i.appendTo),n[0]!=this.element[0]&&!/(fixed|absolute)/.test(n.css("position"))&&n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"&&(e.containment=this.helper[0].parentNode),(e.containment=="document"||e.containment=="window")&&(this.containment=[e.containment=="document"?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e.containment=="document"?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(e.containment=="document"?0:t(window).scrollLeft())+t(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e.containment=="document"?0:t(window).scrollTop())+(t(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),n=i[0];if(!n)return;var s=(i.offset(),t(n).css("overflow")!="hidden");this.containment=[(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0),(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0),(s?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderLeftWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderTopWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var n=e=="absolute"?1:-1,s=(this.options,this.cssPosition!="absolute"||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(t.browser.safari&&526>t.browser.version&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(t.browser.safari&&526>t.browser.version&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n)}},_generatePosition:function(e){var i=this.options,n=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName),r=e.pageX,o=e.pageY;if(this.originalPosition){var a;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();a=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else a=this.containment;a[0]>e.pageX-this.offset.click.left&&(r=a[0]+this.offset.click.left),a[1]>e.pageY-this.offset.click.top&&(o=a[1]+this.offset.click.top),e.pageX-this.offset.click.left>a[2]&&(r=a[2]+this.offset.click.left),e.pageY-this.offset.click.top>a[3]&&(o=a[3]+this.offset.click.top)}if(i.grid){var u=i.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;o=a?a[1]>u-this.offset.click.top||u-this.offset.click.top>a[3]?a[1]>u-this.offset.click.top?u+i.grid[1]:u-i.grid[1]:u:u;var h=i.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;r=a?a[0]>h-this.offset.click.left||h-this.offset.click.left>a[2]?a[0]>h-this.offset.click.left?h+i.grid[0]:h-i.grid[0]:h:h}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&526>t.browser.version&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&526>t.browser.version&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),e=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.extend(t.ui.draggable,{version:"1.8.23"}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("draggable"),s=n.options,r=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i){var n=t(this).data("draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,n.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("draggable"),s=this;t.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("draggable");e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("draggable"),n=i.options,s=!1;i.scrollParent[0]!=document&&i.scrollParent[0].tagName!="HTML"?(n.axis&&n.axis=="x"||(n.scrollSensitivity>i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:n.scrollSensitivity>e.pageY-i.overflowOffset.top&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&n.axis=="y"||(n.scrollSensitivity>i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:n.scrollSensitivity>e.pageX-i.overflowOffset.left&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&n.axis=="x"||(n.scrollSensitivity>e.pageY-t(document).scrollTop()?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):n.scrollSensitivity>t(window).height()-(e.pageY-t(document).scrollTop())&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&n.axis=="y"||(n.scrollSensitivity>e.pageX-t(document).scrollLeft()?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):n.scrollSensitivity>t(window).width()-(e.pageX-t(document).scrollLeft())&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){for(var n=t(this).data("draggable"),s=n.options,r=s.snapTolerance,o=i.offset.left,a=o+n.helperProportions.width,l=i.offset.top,u=l+n.helperProportions.height,h=n.snapElements.length-1;h>=0;h--){var c=n.snapElements[h].left,d=c+n.snapElements[h].width,p=n.snapElements[h].top,f=p+n.snapElements[h].height;if(o>c-r&&d+r>o&&l>p-r&&f+r>l||o>c-r&&d+r>o&&u>p-r&&f+r>u||a>c-r&&d+r>a&&l>p-r&&f+r>l||a>c-r&&d+r>a&&u>p-r&&f+r>u){if(s.snapMode!="inner"){var g=r>=Math.abs(p-u),m=r>=Math.abs(f-l),v=r>=Math.abs(c-a),b=r>=Math.abs(d-o);g&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left)}var y=g||m||v||b;if(s.snapMode!="outer"){var g=r>=Math.abs(p-l),m=r>=Math.abs(f-u),v=r>=Math.abs(c-o),b=r>=Math.abs(d-a);g&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[h].snapping&&(g||m||v||b||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=g||m||v||b||y}else n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(){var e=t(this).data("draggable").options,i=t.makeArray(t(e.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(i.length){var n=parseInt(i[0].style.zIndex)||0;t(i).each(function(t){this.style.zIndex=n+t}),this[0].style.zIndex=n+i.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){t.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,i=e.accept;this.isover=0,this.isout=1,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var e=t.ui.ddmanager.droppables[this.options.scope],i=0;e.length>i;i++)e[i]==this&&e.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(e,i){e=="accept"&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope==n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.extend(t.ui.droppable,{version:"1.8.23"}),t.ui.intersect=function(e,i,n){if(!i.offset)return!1;var s=(e.positionAbs||e.position.absolute).left,r=s+e.helperProportions.width,o=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.height,l=i.offset.left,u=l+i.proportions.width,h=i.offset.top,c=h+i.proportions.height;switch(n){case"fit":return!(l>s||r>u||h>o||a>c);case"intersect":return s+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&o+e.helperProportions.height/2>h&&c>a-e.helperProportions.height/2;case"pointer":var d=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,p=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,f=t.ui.isOver(p,d,h,l,i.proportions.height,i.proportions.width);return f;case"touch":return(o>=h&&c>=o||a>=h&&c>=a||h>o&&a>c)&&(s>=l&&u>=s||r>=l&&u>=r||l>s&&r>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,r=(e.currentItem||e.element).find(":data(droppable)").andSelf();t:for(var o=0;n.length>o;o++)if(!(n[o].options.disabled||e&&!n[o].accept.call(n[o].element[0],e.currentItem||e.element))){for(var a=0;r.length>a;a++)if(r[a]==n[o].element[0]){n[o].proportions.height=0;continue t}n[o].visible=n[o].element.css("display")!="none",n[o].visible&&(s=="mousedown"&&n[o]._activate.call(n[o],i),n[o].offset=n[o].element.offset(),n[o].proportions={width:n[o].element[0].offsetWidth,height:n[o].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parents(":not(body,html)").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n=t.ui.intersect(e,this,this.options.tolerance),s=n||this.isover!=1?n&&this.isover==0?"isover":null:"isout";if(s){var r;if(this.options.greedy){var o=this.element.parents(":data(droppable):eq(0)");o.length&&(r=t.data(o[0],"droppable"),r.greedyChild=s=="isover"?1:0)}r&&s=="isover"&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[s]=1,this[s=="isout"?"isover":"isout"]=0,this[s=="isover"?"_over":"_out"].call(this,i),r&&s=="isout"&&(r.isout=0,r.isover=1,r._over.call(r,i))}}})},dragStop:function(e,i){e.element.parents(":not(body,html)").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){t.widget("ui.resizable",t.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,i=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var s=0;n.length>s;s++){var r=t.trim(n[s]),o="ui-resizable-"+r,a=t('<div class="ui-resizable-handle '+o+'"></div>');a.css({zIndex:i.zIndex}),"se"==r&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(a)}}this._renderAxis=function(e){e=e||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=t(this.handles[i],this.element),s=0;s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();var r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");e.css(r,s),this._proportionallyResize()}t(this.handles[i]).length}},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),i.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").hover(function(){i.disabled||(t(this).removeClass("ui-resizable-autohide"),e._handles.show())},function(){i.disabled||e.resizing||(t(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var i=this.element;i.after(this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var i=!1;for(var n in this.handles)t(this.handles[n])[0]==e.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var n=this.options,s=this.element.position(),r=this.element;this.resizing=!0,this.documentScroll={top:t(document).scrollTop(),left:t(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy();var o=e(this.helper.css("left")),a=e(this.helper.css("top"));n.containment&&(o+=t(n.containment).scrollLeft()||0,a+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:a},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:o,top:a},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio=typeof n.aspectRatio=="number"?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=t(".ui-resizable-"+this.axis).css("cursor");return t("body").css("cursor",l=="auto"?this.axis+"-resize":l),r.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i=this.helper,n=(this.options,this.originalMousePosition),s=this.axis,r=e.pageX-n.left||0,o=e.pageY-n.top||0,a=this._change[s];if(!a)return!1;var l=a.apply(this,[e,r,o]);return t.browser.msie&&7>t.browser.version,this.sizeDiff,this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(l=this._updateRatio(l,e)),l=this._respectSize(l,e),this._propagate("resize",e),i.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1
},_mouseStop:function(e){this.resizing=!1;var i=this.options,n=this;if(this._helper){var s=this._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&t.ui.hasScroll(s[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,l={width:n.helper.width()-a,height:n.helper.height()-o},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;i.animate||this.element.css(t.extend(l,{top:h,left:u})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,s,r,o,a=this.options;o={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.options,this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=(this.options,this.position),n=this.size,s=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),s=="sw"&&(t.left=e.left+(n.width-t.width),t.top=null),s=="nw"&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t,e){var n=(this.helper,this._vBoundaries),s=(this._aspectRatio||e.shiftKey,this.axis),r=i(t.width)&&n.maxWidth&&t.width>n.maxWidth,o=i(t.height)&&n.maxHeight&&t.height>n.maxHeight,a=i(t.width)&&n.minWidth&&n.minWidth>t.width,l=i(t.height)&&n.minHeight&&n.minHeight>t.height;a&&(t.width=n.minWidth),l&&(t.height=n.minHeight),r&&(t.width=n.maxWidth),o&&(t.height=n.maxHeight);var u=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);a&&c&&(t.left=u-n.minWidth),r&&c&&(t.left=u-n.maxWidth),l&&d&&(t.top=h-n.minHeight),o&&d&&(t.top=h-n.maxHeight);var p=!t.width&&!t.height;return p&&!t.left&&t.top?t.top=null:p&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var e=this.helper||this.element,i=0;this._proportionallyResizeElements.length>i;i++){var n=this._proportionallyResizeElements[i];if(!this.borderDif){var s=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],r=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=t.map(s,function(t,e){var i=parseInt(t,10)||0,n=parseInt(r[e],10)||0;return i+n})}t.browser.msie&&(t(e).is(":hidden")||t(e).parents(":hidden").length)||n.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,i=this.options;if(this.elementOffset=e.offset(),this._helper){this.helper=this.helper||t('<div style="overflow:hidden;"></div>');var n=t.browser.msie&&7>t.browser.version,s=n?1:0,r=n?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+r,height:this.element.outerHeight()+r,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=(this.options,this.originalSize),n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=(this.options,this.originalSize),s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),e!="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.extend(t.ui.resizable,{version:"1.8.23"}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};typeof i.alsoResize!="object"||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("resizable"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(e,n){t(e).each(function(){var e=t(this),s=t(this).data("resizable-alsoresize"),r={},o=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})};typeof s.alsoResize!="object"||s.alsoResize.nodeType?l(s.alsoResize):t.each(s.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("resizable"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&t.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&u?{top:h,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i=t(this).data("resizable"),n=i.options,s=i.element,r=n.containment,o=r instanceof t?r.get(0):/parent/.test(r)?s.parent().get(0):r;if(o)if(i.containerElement=t(o),/document/.test(r)||r==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight};else{var a=t(o),l=[];t(["Top","Right","Left","Bottom"]).each(function(t,i){l[t]=e(a.css("padding"+i))}),i.containerOffset=a.offset(),i.containerPosition=a.position(),i.containerSize={height:a.innerHeight()-l[3],width:a.innerWidth()-l[1]};var u=i.containerOffset,h=i.containerSize.height,c=i.containerSize.width,d=t.ui.hasScroll(o,"left")?o.scrollWidth:c,p=t.ui.hasScroll(o)?o.scrollHeight:h;i.parentData={element:o,left:u.left,top:u.top,width:d,height:p}}},resize:function(e){var i=t(this).data("resizable"),n=i.options,s=(i.containerSize,i.containerOffset),r=(i.size,i.position),o=i._aspectRatio||e.shiftKey,a={top:0,left:0},l=i.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(a=s),(i._helper?s.left:0)>r.left&&(i.size.width=i.size.width+(i._helper?i.position.left-s.left:i.position.left-a.left),o&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=n.helper?s.left:0),(i._helper?s.top:0)>r.top&&(i.size.height=i.size.height+(i._helper?i.position.top-s.top:i.position.top),o&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?s.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var u=Math.abs((i._helper?i.offset.left-a.left:i.offset.left-a.left)+i.sizeDiff.width),h=Math.abs((i._helper?i.offset.top-a.top:i.offset.top-s.top)+i.sizeDiff.height),c=i.containerElement.get(0)==i.element.parent().get(0),d=/relative|absolute/.test(i.containerElement.css("position"));c&&d&&(u-=i.parentData.left),u+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-u,o&&(i.size.height=i.size.width/i.aspectRatio)),h+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-h,o&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var e=t(this).data("resizable"),i=e.options,n=(e.position,e.containerOffset),s=e.containerPosition,r=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,u=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:u}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:u})}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("resizable");e.options,e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("resizable");e.options,e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(e){var i=t(this).data("resizable"),n=i.options,s=i.size,r=i.originalSize,o=i.originalPosition,a=i.axis;n._aspectRatio||e.shiftKey,n.grid=typeof n.grid=="number"?[n.grid,n.grid]:n.grid;var l=Math.round((s.width-r.width)/(n.grid[0]||1))*(n.grid[0]||1),u=Math.round((s.height-r.height)/(n.grid[1]||1))*(n.grid[1]||1);/^(se|s|e)$/.test(a)?(i.size.width=r.width+l,i.size.height=r.height+u):/^(ne)$/.test(a)?(i.size.width=r.width+l,i.size.height=r.height+u,i.position.top=o.top-u):/^(sw)$/.test(a)?(i.size.width=r.width+l,i.size.height=r.height+u,i.position.left=o.left-l):(i.size.width=r.width+l,i.size.height=r.height+u,i.position.top=o.top-u,i.position.left=o.left-l)}});var e=function(t){return parseInt(t,10)||0},i=function(t){return!isNaN(parseInt(t,10))}}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var e=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=t(e.options.filter,e.element[0]),i.addClass("ui-selectee"),i.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(e){var i=this;if(this.opos=[e.pageX,e.pageY],!this.options.disabled){var n=this.options;this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,!e.metaKey&&!e.ctrlKey&&(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().andSelf().each(function(){var n=t.data(this,"selectable-item");if(n){var s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected");return n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1}})}},_mouseDrag:function(e){var i=this;if(this.dragged=!0,!this.options.disabled){var n=this.options,s=this.opos[0],r=this.opos[1],o=e.pageX,a=e.pageY;if(s>o){var l=o;o=s,s=l}if(r>a){var l=a;a=r,r=l}return this.helper.css({left:s,top:r,width:o-s,height:a-r}),this.selectees.each(function(){var l=t.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var u=!1;n.tolerance=="touch"?u=!(l.left>o||s>l.right||l.top>a||r>l.bottom):n.tolerance=="fit"&&(u=l.left>s&&o>l.right&&l.top>r&&a>l.bottom),u?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",e,{selecting:l.element}))):(l.selecting&&((e.metaKey||e.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",e,{unselecting:l.element}))),l.selected&&!e.metaKey&&!e.ctrlKey&&!l.startselected&&(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",e,{unselecting:l.element})))}}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,this.options,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.extend(t.ui.selectable,{version:"1.8.23"})}(jQuery),function(t){t.widget("ui.sortable",t.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?t.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){t.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){e==="disabled"?(this.options[e]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(e);var s=null,r=this;if(t(e.target).parents().each(function(){return t.data(this,n.widgetName+"-item")==r?(s=t(this),!1):void 0}),t.data(e.target,n.widgetName+"-item")==r&&(s=t(e.target)),!s)return!1;if(this.options.handle&&!i){var o=!1;if(t(this.options.handle,s).find("*").andSelf().each(function(){this==e.target&&(o=!0)}),!o)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,i,n){var s=this.options,r=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,r._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,n=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(i.scrollSensitivity>this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:i.scrollSensitivity>e.pageY-this.overflowOffset.top&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),i.scrollSensitivity>this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:i.scrollSensitivity>e.pageX-this.overflowOffset.left&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(i.scrollSensitivity>e.pageY-t(document).scrollTop()?n=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):i.scrollSensitivity>t(window).height()-(e.pageY-t(document).scrollTop())&&(n=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed)),i.scrollSensitivity>e.pageX-t(document).scrollLeft()?n=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):i.scrollSensitivity>t(window).width()-(e.pageX-t(document).scrollLeft())&&(n=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed))),n!==!1&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px");for(var s=this.items.length-1;s>=0;s--){var r=this.items[s],o=r.item[0],a=this._intersectsWithPointer(r);if(a&&o!=this.currentItem[0]&&this.placeholder[a==1?"next":"prev"]()[0]!=o&&!t.ui.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!t.ui.contains(this.element[0],o):!0)){if(this.direction=a==1?"down":"up",this.options.tolerance!="pointer"&&!this._intersectsWithSides(r))break;this._rearrange(e,r),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=n.placeholder.offset();n.reverting=!0,t(this.helper).animate({left:s.left-this.offset.parent.left-n.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:s.top-this.offset.parent.top-n.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){var e=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,e._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,e._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=t.left,o=r+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,h=this.offset.click.left,c=n+u>a&&l>n+u&&e+h>r&&o>e+h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?c:e+this.helperProportions.width/2>r&&o>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>s-this.helperProportions.height/2},_intersectsWithPointer:function(e){var i=this.options.axis==="x"||t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n=this.options.axis==="y"||t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=i&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return s?this.floating?o&&o=="right"||r=="down"?2:1:r&&(r=="down"?2:1):!1},_intersectsWithSides:function(e){var i=t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?r=="right"&&n||r=="left"&&!n:s&&(s=="down"&&i||s=="up"&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return t!=0&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return t!=0&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i=[],n=[],s=this._connectWith();if(s&&e)for(var r=s.length-1;r>=0;r--)for(var o=t(s[r]),a=o.length-1;a>=0;a--){var l=t.data(o[a],this.widgetName);l&&l!=this&&!l.options.disabled&&n.push([t.isFunction(l.options.items)?l.options.items.call(l.element):t(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}n.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var r=n.length-1;r>=0;r--)n[r][0].each(function(){i.push(this)});return t(i)},_removeCurrentsFromItems:function(){for(var t=this.currentItem.find(":data("+this.widgetName+"-item)"),e=0;this.items.length>e;e++)for(var i=0;t.length>i;i++)t[i]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(e){this.items=[],this.containers=[this];var i=this.items,n=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],s=this._connectWith();if(s&&this.ready)for(var r=s.length-1;r>=0;r--)for(var o=t(s[r]),a=o.length-1;a>=0;a--){var l=t.data(o[a],this.widgetName);l&&l!=this&&!l.options.disabled&&(n.push([t.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):t(l.options.items,l.element),l]),this.containers.push(l))}for(var r=n.length-1;r>=0;r--)for(var u=n[r][1],h=n[r][0],a=0,c=h.length;c>a;a++){var d=t(h[a]);d.data(this.widgetName+"-item",u),i.push({item:d,instance:u,width:0,height:0,left:0,top:0})}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var n=this.items[i];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item;e||(n.width=s.outerWidth(),n.height=s.outerHeight());var r=s.offset();n.left=r.left,n.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var r=this.containers[i].element.offset();this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(e){var i=e||this,n=i.options;if(!n.placeholder||n.placeholder.constructor==String){var s=n.placeholder;n.placeholder={element:function(){var e=t(document.createElement(i.currentItem[0].nodeName)).addClass(s||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return s||(e.style.visibility="hidden"),e},update:function(t,e){(!s||n.forcePlaceholderSize)&&(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=t(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_contactContainers:function(e){for(var i=null,n=null,s=this.containers.length-1;s>=0;s--)if(!t.ui.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(i&&t.ui.contains(this.containers[s].element[0],i.element[0]))continue;i=this.containers[s],n=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",e,this._uiHash(this)),this.containers[s].containerCache.over=0);if(i)if(this.containers.length===1)this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1;else if(this.currentContainer!=this.containers[n]){for(var r=1e4,o=null,a=this.positionAbs[this.containers[n].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(t.ui.contains(this.containers[n].element[0],this.items[l].item[0])){var u=this.containers[n].floating?this.items[l].item.offset().left:this.items[l].item.offset().top;r>Math.abs(u-a)&&(r=Math.abs(u-a),o=this.items[l],this.direction=u-a>0?"down":"up")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[n].element,!0),this._trigger("change",e,this._uiHash()),this.containers[n]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper=="clone"?this.currentItem.clone():this.currentItem;return n.parents("body").length||t(i.appendTo!="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(n[0].style.width==""||i.forceHelperSize)&&n.width(this.currentItem.width()),(n[0].style.height==""||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}
},_setContainment:function(){var e=this.options;if(e.containment=="parent"&&(e.containment=this.helper[0].parentNode),(e.containment=="document"||e.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var i=t(e.containment)[0],n=t(e.containment).offset(),s=t(i).css("overflow")!="hidden";this.containment=[n.left+(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0)-this.margins.top,n.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){i||(i=this.position);var n=e=="absolute"?1:-1,s=(this.options,this.cssPosition!="absolute"||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(t.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(t.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n)}},_generatePosition:function(e){var i=this.options,n=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var r=e.pageX,o=e.pageY;if(this.originalPosition&&(this.containment&&(this.containment[0]>e.pageX-this.offset.click.left&&(r=this.containment[0]+this.offset.click.left),this.containment[1]>e.pageY-this.offset.click.top&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid)){var a=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1];o=this.containment?this.containment[1]>a-this.offset.click.top||a-this.offset.click.top>this.containment[3]?this.containment[1]>a-this.offset.click.top?a+i.grid[1]:a-i.grid[1]:a:a;var l=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0];r=this.containment?this.containment[0]>l-this.offset.click.left||l-this.offset.click.left>this.containment[2]?this.containment[0]>l-this.offset.click.left?l+i.grid[0]:l-i.grid[0]:l:l}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this,r=this.counter;window.setTimeout(function(){r==s.counter&&s.refreshPositions(!n)},0)},_clear:function(e,i){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var s in this._storedCSS)(this._storedCSS[s]=="auto"||this._storedCSS[s]=="static")&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!i&&n.push(function(t){this._trigger("update",t,this._uiHash())}),!t.ui.contains(this.element[0],this.currentItem[0])){i||n.push(function(t){this._trigger("remove",t,this._uiHash())});for(var s=this.containers.length-1;s>=0;s--)t.ui.contains(this.containers[s].element[0],this.currentItem[0])&&!i&&(n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.containers[s])),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.containers[s])))}for(var s=this.containers.length-1;s>=0;s--)i||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",e,this._uiHash());for(var s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.extend(t.ui.sortable,{version:"1.8.23"})}(jQuery),function(t){t.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var e=this,i=e.options;if(e.running=0,e.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),e.headers=e.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||t(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||t(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||t(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||t(this).removeClass("ui-state-focus")}),e.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),i.navigation){var n=e.element.find("a").filter(i.navigationFilter).eq(0);if(n.length){var s=n.closest(".ui-accordion-header");e.active=s.length?s:n.closest(".ui-accordion-content").prev()}}e.active=e._findActive(e.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),e.active.next().addClass("ui-accordion-content-active"),e._createIcons(),e.resize(),e.element.attr("role","tablist"),e.headers.attr("role","tab").bind("keydown.accordion",function(t){return e._keydown(t)}).next().attr("role","tabpanel"),e.headers.not(e.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),e.active.length?e.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):e.headers.eq(0).attr("tabIndex",0),t.browser.safari||e.headers.find("a").attr("tabIndex",-1),i.event&&e.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(t){e._clickHandler.call(e,t,this),t.preventDefault()})},_createIcons:function(){var e=this.options;e.icons&&(t("<span></span>").addClass("ui-icon "+e.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(e.icons.header).toggleClass(e.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var e=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(e.autoHeight||e.fillHeight)&&i.css("height",""),t.Widget.prototype.destroy.call(this)},_setOption:function(e,i){t.Widget.prototype._setOption.apply(this,arguments),e=="active"&&this.activate(i),e=="icons"&&(this._destroyIcons(),i&&this._createIcons()),e=="disabled"&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(e){if(!(this.options.disabled||e.altKey||e.ctrlKey)){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),r=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._clickHandler({target:e.target},e.target),e.preventDefault()}return r?(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),r.focus(),!1):!0}},resize:function(){var e,i=this.options;if(i.fillSpace){if(t.browser.msie){var n=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}e=this.element.parent().height(),t.browser.msie&&this.element.parent().css("overflow",n),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else i.autoHeight&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).height("").height())}).height(e));return this},activate:function(t){this.options.active=t;var e=this._findActive(t)[0];return this._clickHandler({target:e},e),this},_findActive:function(e){return e?typeof e=="number"?this.headers.filter(":eq("+e+")"):this.headers.not(this.headers.not(e)):e===!1?t([]):this.headers.filter(":eq(0)")},_clickHandler:function(e,i){var n=this.options;if(!n.disabled){if(!e.target){if(!n.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),this.active.next().addClass("ui-accordion-content-active");var s=this.active.next(),r={options:n,newHeader:t([]),oldHeader:n.active,newContent:t([]),oldContent:s},o=this.active=t([]);return this._toggle(o,s,r),void 0}var a=t(e.currentTarget||i),l=a[0]===this.active[0];if(n.active=n.collapsible&&l?!1:this.headers.index(a),!(this.running||!n.collapsible&&l)){var u=this.active,o=a.next(),s=this.active.next(),r={options:n,newHeader:l&&n.collapsible?t([]):a,oldHeader:this.active,newContent:l&&n.collapsible?t([]):o,oldContent:s},h=this.headers.index(this.active[0])>this.headers.index(a[0]);this.active=l?t([]):a,this._toggle(o,s,r,l,h),u.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),l||(a.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(n.icons.header).addClass(n.icons.headerSelected),a.next().addClass("ui-accordion-content-active"))}}},_toggle:function(e,i,n,s,r){var o=this,a=o.options;o.toShow=e,o.toHide=i,o.data=n;var l=function(){return o?o._completed.apply(o,arguments):void 0};if(o._trigger("changestart",null,o.data),o.running=i.size()===0?e.size():i.size(),a.animated){var u={};u=a.collapsible&&s?{toShow:t([]),toHide:i,complete:l,down:r,autoHeight:a.autoHeight||a.fillSpace}:{toShow:e,toHide:i,complete:l,down:r,autoHeight:a.autoHeight||a.fillSpace},a.proxied||(a.proxied=a.animated),a.proxiedDuration||(a.proxiedDuration=a.duration),a.animated=t.isFunction(a.proxied)?a.proxied(u):a.proxied,a.duration=t.isFunction(a.proxiedDuration)?a.proxiedDuration(u):a.proxiedDuration;var h=t.ui.accordion.animations,c=a.duration,d=a.animated;d&&!h[d]&&!t.easing[d]&&(d="slide"),h[d]||(h[d]=function(t){this.slide(t,{easing:d,duration:c||700})}),h[d](u)}else a.collapsible&&s?e.toggle():(i.hide(),e.show()),l(!0);i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),e.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(t){this.running=t?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),t.extend(t.ui.accordion,{version:"1.8.23",animations:{slide:function(e,i){if(e=t.extend({easing:"swing",duration:300},e,i),!e.toHide.size())return e.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},e),void 0;if(!e.toShow.size())return e.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},e),void 0;var n,s=e.toShow.css("overflow"),r=0,o={},a={},l=["height","paddingTop","paddingBottom"],u=e.toShow;n=u[0].style.width,u.width(u.parent().width()-parseFloat(u.css("paddingLeft"))-parseFloat(u.css("paddingRight"))-(parseFloat(u.css("borderLeftWidth"))||0)-(parseFloat(u.css("borderRightWidth"))||0)),t.each(l,function(i,n){a[n]="hide";var s=(""+t.css(e.toShow[0],n)).match(/^([\d+-.]+)(.*)$/);o[n]={value:s[1],unit:s[2]||"px"}}),e.toShow.css({height:0,overflow:"hidden"}).show(),e.toHide.filter(":hidden").each(e.complete).end().filter(":visible").animate(a,{step:function(t,i){i.prop=="height"&&(r=i.end-i.start===0?0:(i.now-i.start)/(i.end-i.start)),e.toShow[0].style[i.prop]=r*o[i.prop].value+o[i.prop].unit},duration:e.duration,easing:e.easing,complete:function(){e.autoHeight||e.toShow.css("height",""),e.toShow.css({width:n,overflow:s}),e.complete()}})},bounceslide:function(t){this.slide(t,{easing:t.down?"easeOutBounce":"swing",duration:t.down?1e3:200})}}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var e,i=this,n=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(!i.options.disabled&&!i.element.propAttr("readOnly")){e=!1;var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:i._move("previousPage",n);break;case s.PAGE_DOWN:i._move("nextPage",n);break;case s.UP:i._keyEvent("previous",n);break;case s.DOWN:i._keyEvent("next",n);break;case s.ENTER:case s.NUMPAD_ENTER:i.menu.active&&(e=!0,n.preventDefault());case s.TAB:if(!i.menu.active)return;i.menu.select(n);break;case s.ESCAPE:i.element.val(i.term),i.close(n);break;default:clearTimeout(i.searching),i.searching=setTimeout(function(){i.term!=i.element.val()&&(i.selectedItem=null,i.search(null,n))},i.options.delay)}}}).bind("keypress.autocomplete",function(t){e&&(e=!1,t.preventDefault())}).bind("focus.autocomplete",function(){i.options.disabled||(i.selectedItem=null,i.previous=i.element.val())}).bind("blur.autocomplete",function(t){i.options.disabled||(clearTimeout(i.searching),i.closing=setTimeout(function(){i.close(t),i._change(t)},150))}),this._initSource(),this.menu=t("<ul></ul>").addClass("ui-autocomplete").appendTo(t(this.options.appendTo||"body",n)[0]).mousedown(function(e){var n=i.menu.element[0];t(e.target).closest(".ui-menu-item").length||setTimeout(function(){t(document).one("mousedown",function(e){e.target!==i.element[0]&&e.target!==n&&!t.ui.contains(n,e.target)&&i.close()})},1),setTimeout(function(){clearTimeout(i.closing)},13)}).menu({focus:function(t,e){var n=e.item.data("item.autocomplete");!1!==i._trigger("focus",t,{item:n})&&/^key/.test(t.originalEvent.type)&&i.element.val(n.value)},selected:function(t,e){var s=e.item.data("item.autocomplete"),r=i.previous;i.element[0]!==n.activeElement&&(i.element.focus(),i.previous=r,setTimeout(function(){i.previous=r,i.selectedItem=s},1)),!1!==i._trigger("select",t,{item:s})&&i.element.val(s.value),i.term=i.element.val(),i.close(t),i.selectedItem=s},blur:function(){i.menu.element.is(":visible")&&i.element.val()!==i.term&&i.element.val(i.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),t.fn.bgiframe&&this.menu.element.bgiframe(),i.beforeunloadHandler=function(){i.element.removeAttr("autocomplete")},t(window).bind("beforeunload",i.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),t(window).unbind("beforeunload",this.beforeunloadHandler),t.Widget.prototype.destroy.call(this)},_setOption:function(e,i){t.Widget.prototype._setOption.apply(this,arguments),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(t(i||"body",this.element[0].ownerDocument)[0]),e==="disabled"&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},search:function(t,e){return t=t!=null?t:this.element.val(),this.term=this.element.val(),this.options.minLength>t.length?this.close(e):(clearTimeout(this.closing),this._trigger("search",e)!==!1?this._search(t):void 0)},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(n){i===e&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){!this.options.disabled&&t&&t.length?(t=this._normalize(t),this._suggest(t),this._trigger("open")):this.close()},close:function(t){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",t))},_change:function(t){this.previous!==this.element.val()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return typeof e=="string"?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,e),this.menu.deactivate(),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new t.Event("mouseover"))},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItem(e,i)})},_renderItem:function(e,i){return t("<li></li>").data("item.autocomplete",i).append(t("<a></a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(t)||this.menu.last()&&/^next/.test(t)?(this.element.val(this.term),this.menu.deactivate(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}})}(jQuery),function(t){t.widget("ui.menu",{_create:function(){var e=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){t(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),e.select(i))}),this.refresh()},refresh:function(){var e=this,i=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");i.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){e.activate(i,t(this).parent())}).mouseleave(function(){e.deactivate()})},activate:function(t,e){if(this.deactivate(),this.hasScroll()){var i=e.offset().top-this.element.offset().top,n=this.element.scrollTop(),s=this.element.height();0>i?this.element.scrollTop(n+i):i>=s&&this.element.scrollTop(n+i-s+e.height())}this.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",t,{item:e})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(t){this.move("next",".ui-menu-item:first",t)},previous:function(t){this.move("prev",".ui-menu-item:last",t)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(t,e,i){if(!this.active)return this.activate(i,this.element.children(e)),void 0;var n=this.active[t+"All"](".ui-menu-item").eq(0);n.length?this.activate(i,n):this.activate(i,this.element.children(e))},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last())return this.activate(e,this.element.children(".ui-menu-item:first")),void 0;var i=this.active.offset().top,n=this.element.height(),s=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-i-n+t(this).height();return 10>e&&e>-10});s.length||(s=this.element.children(".ui-menu-item:last")),this.activate(e,s)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(e){if(this.hasScroll()){if(!this.active||this.first())return this.activate(e,this.element.children(".ui-menu-item:last")),void 0;var i=this.active.offset().top,n=this.element.height(),s=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-i+n-t(this).height();return 10>e&&e>-10});s.length||(s=this.element.children(".ui-menu-item:first")),this.activate(e,s)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element[t.fn.prop?"prop":"attr"]("scrollHeight")>this.element.height()},select:function(t){this._trigger("selected",t,{item:this.active})}})}(jQuery),function(t){var e,i,n,s,r="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},u=function(e){var i=e.name,n=e.form,s=t([]);return i&&(s=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,a=this.options,h=this.type==="checkbox"||this.type==="radio",c="ui-state-hover"+(h?"":" ui-state-active"),d="ui-state-focus";a.label===null&&(a.label=this.buttonElement.html()),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter.button",function(){a.disabled||(t(this).addClass("ui-state-hover"),this===e&&t(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){a.disabled||t(this).removeClass(c)}).bind("click.button",function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus.button",function(){o.buttonElement.addClass(d)}).bind("blur.button",function(){o.buttonElement.removeClass(d)}),h&&(this.element.bind("change.button",function(){s||o.refresh()}),this.buttonElement.bind("mousedown.button",function(t){a.disabled||(s=!1,i=t.pageX,n=t.pageY)}).bind("mouseup.button",function(t){a.disabled||(i!==t.pageX||n!==t.pageY)&&(s=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){return a.disabled||s?!1:(t(this).toggleClass("ui-state-active"),o.buttonElement.attr("aria-pressed",o.element[0].checked),void 0)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(a.disabled||s)return!1;t(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var e=o.element[0];u(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return a.disabled?!1:(t(this).addClass("ui-state-active"),e=this,t(document).one("mouseup",function(){e=null}),void 0)}).bind("mouseup.button",function(){return a.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown.button",function(e){return a.disabled?!1:((e.keyCode==t.ui.keyCode.SPACE||e.keyCode==t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup.button",function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"){var t=this.element.parents().filter(":last"),e="label[for='"+this.element.attr("id")+"']";this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible");var i=this.element.is(":checked");i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",i)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" "+o+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),t.Widget.prototype.destroy.call(this)},_setOption:function(e,i){return t.Widget.prototype._setOption.apply(this,arguments),e==="disabled"?(i?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var e=this.element.is(":disabled");e!==this.options.disabled&&this._setOption("disabled",e),this.type==="radio"?u(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var e=this.buttonElement.removeClass(a),i=t("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",i))):r.push("ui-button-text-only"),e.addClass(r.join(" "))}}),t.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,i){e==="disabled"&&this.buttons.button("option",e,i),t.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var e=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),t.Widget.prototype.destroy.call(this)}})}(jQuery),function(t,e){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;
var e=this,n=e.options,s=n.title||"&#160;",r=t.ui.dialog.getTitleId(e.element),o=(e.uiDialog=t("<div></div>")).appendTo(document.body).hide().addClass(i+n.dialogClass).css({zIndex:n.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){n.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===t.ui.keyCode.ESCAPE&&(e.close(i),i.preventDefault())}).attr({role:"dialog","aria-labelledby":r}).mousedown(function(t){e.moveToTop(!1,t)}),a=(e.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),(e.uiDialogTitlebar=t("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o)),l=t('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).focus(function(){l.addClass("ui-state-focus")}).blur(function(){l.removeClass("ui-state-focus")}).click(function(t){return e.close(t),!1}).appendTo(a);(e.uiDialogTitlebarCloseText=t("<span></span>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(l),t("<span></span>").addClass("ui-dialog-title").attr("id",r).html(s).prependTo(a),t.isFunction(n.beforeclose)&&!t.isFunction(n.beforeClose)&&(n.beforeClose=n.beforeclose),a.find("*").add(a).disableSelection(),n.draggable&&t.fn.draggable&&e._makeDraggable(),n.resizable&&t.fn.resizable&&e._makeResizable(),e._createButtons(n.buttons),e._isOpen=!1,t.fn.bgiframe&&o.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var t=this;return t.overlay&&t.overlay.destroy(),t.uiDialog.hide(),t.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),t.uiDialog.remove(),t.originalTitle&&t.element.attr("title",t.originalTitle),t},widget:function(){return this.uiDialog},close:function(e){var i,n,s=this;if(!1!==s._trigger("beforeClose",e))return s.overlay&&s.overlay.destroy(),s.uiDialog.unbind("keypress.ui-dialog"),s._isOpen=!1,s.options.hide?s.uiDialog.hide(s.options.hide,function(){s._trigger("close",e)}):(s.uiDialog.hide(),s._trigger("close",e)),t.ui.dialog.overlay.resize(),s.options.modal&&(i=0,t(".ui-dialog").each(function(){this!==s.uiDialog[0]&&(n=t(this).css("z-index"),isNaN(n)||(i=Math.max(i,n)))}),t.ui.dialog.maxZ=i),s},isOpen:function(){return this._isOpen},moveToTop:function(e,i){var n,s=this,r=s.options;return r.modal&&!e||!r.stack&&!r.modal?s._trigger("focus",i):(r.zIndex>t.ui.dialog.maxZ&&(t.ui.dialog.maxZ=r.zIndex),s.overlay&&(t.ui.dialog.maxZ+=1,s.overlay.$el.css("z-index",t.ui.dialog.overlay.maxZ=t.ui.dialog.maxZ)),n={scrollTop:s.element.scrollTop(),scrollLeft:s.element.scrollLeft()},t.ui.dialog.maxZ+=1,s.uiDialog.css("z-index",t.ui.dialog.maxZ),s.element.attr(n),s._trigger("focus",i),s)},open:function(){if(!this._isOpen){var e=this,i=e.options,n=e.uiDialog;return e.overlay=i.modal?new t.ui.dialog.overlay(e):null,e._size(),e._position(i.position),n.show(i.show),e.moveToTop(!0),i.modal&&n.bind("keydown.ui-dialog",function(e){if(e.keyCode===t.ui.keyCode.TAB){var i=t(":tabbable",this),n=i.filter(":first"),s=i.filter(":last");return e.target!==s[0]||e.shiftKey?e.target===n[0]&&e.shiftKey?(s.focus(1),!1):void 0:(n.focus(1),!1)}}),t(e.element.find(":tabbable").get().concat(n.find(".ui-dialog-buttonpane :tabbable").get().concat(n.get()))).eq(0).focus(),e._isOpen=!0,e._trigger("open"),e}},_createButtons:function(e){var i=this,n=!1,s=t("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),r=t("<div></div>").addClass("ui-dialog-buttonset").appendTo(s);i.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof e=="object"&&e!==null&&t.each(e,function(){return!(n=!0)}),n&&(t.each(e,function(e,n){n=t.isFunction(n)?{click:n,text:e}:n;var s=t('<button type="button"></button>').click(function(){n.click.apply(i.element[0],arguments)}).appendTo(r);t.each(n,function(t,e){t!=="click"&&(t in s?s[t](e):s.attr(t,e))}),t.fn.button&&s.button()}),s.appendTo(i.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i,n=this,s=n.options,r=t(document);n.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,o){i=s.height==="auto"?"auto":t(this).height(),t(this).height(t(this).height()).addClass("ui-dialog-dragging"),n._trigger("dragStart",r,e(o))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(o,a){s.position=[a.position.left-r.scrollLeft(),a.position.top-r.scrollTop()],t(this).removeClass("ui-dialog-dragging").height(i),n._trigger("dragStop",o,e(a)),t.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function n(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}i=i===e?this.options.resizable:i;var s=this,r=s.options,o=s.uiDialog.css("position"),a=typeof i=="string"?i:"n,e,s,w,se,sw,ne,nw";s.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:s.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:s._minHeight(),handles:a,start:function(e,i){t(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",e,n(i))},resize:function(t,e){s._trigger("resize",t,n(e))},stop:function(e,i){t(this).removeClass("ui-dialog-resizing"),r.height=t(this).height(),r.width=t(this).width(),s._trigger("resizeStop",e,n(i)),t.ui.dialog.overlay.resize()}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return t.height==="auto"?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(e){var i,n=[],s=[0,0];e?((typeof e=="string"||typeof e=="object"&&"0"in e)&&(n=e.split?e.split(" "):[e[0],e[1]],n.length===1&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(s[t]=n[t],n[t]=e)}),e={my:n.join(" "),at:n.join(" "),offset:s.join(" ")}),e=t.extend({},t.ui.dialog.prototype.options.position,e)):e=t.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(t.extend({of:window},e)),i||this.uiDialog.hide()},_setOptions:function(e){var i=this,r={},o=!1;t.each(e,function(t,e){i._setOption(t,e),t in n&&(o=!0),t in s&&(r[t]=e)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var s=this,r=s.uiDialog;switch(e){case"beforeclose":e="beforeClose";break;case"buttons":s._createButtons(n);break;case"closeText":s.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":r.removeClass(s.options.dialogClass).addClass(i+n);break;case"disabled":n?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":var o=r.is(":data(draggable)");o&&!n&&r.draggable("destroy"),!o&&n&&s._makeDraggable();break;case"position":s._position(n);break;case"resizable":var a=r.is(":data(resizable)");a&&!n&&r.resizable("destroy"),a&&typeof n=="string"&&r.resizable("option","handles",n),!a&&n!==!1&&s._makeResizable(n);break;case"title":t(".ui-dialog-title",s.uiDialogTitlebar).html(""+(n||"&#160;"))}t.Widget.prototype._setOption.apply(s,arguments)},_size:function(){var e,i,n=this.options,s=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).height(),i=Math.max(0,n.minHeight-e),n.height==="auto")if(t.support.minHeight)this.element.css({minHeight:i,height:"auto"});else{this.uiDialog.show();var r=this.element.css("height","auto").height();s||this.uiDialog.hide(),this.element.height(Math.max(r,i))}else this.element.height(Math.max(n.height-e,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),t.extend(t.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(e){this.$el=t.ui.dialog.overlay.create(e)}}),t.extend(t.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:t.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(t){return t+".dialog-overlay"}).join(" "),create:function(e){this.instances.length===0&&(setTimeout(function(){t.ui.dialog.overlay.instances.length&&t(document).bind(t.ui.dialog.overlay.events,function(e){return t.ui.dialog.overlay.maxZ>t(e.target).zIndex()?!1:void 0})},1),t(document).bind("keydown.dialog-overlay",function(i){e.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===t.ui.keyCode.ESCAPE&&(e.close(i),i.preventDefault())}),t(window).bind("resize.dialog-overlay",t.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||t("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return t.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(e){var i=t.inArray(e,this.instances);i!=-1&&this.oldInstances.push(this.instances.splice(i,1)[0]),this.instances.length===0&&t([document,window]).unbind(".dialog-overlay"),e.remove();var n=0;t.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var e,i;return t.browser.msie&&7>t.browser.version?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),i>e?t(window).height()+"px":e+"px"):t(document).height()+"px"},width:function(){var e,i;return t.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),i>e?t(window).width()+"px":e+"px"):t(document).width()+"px"},resize:function(){var e=t([]);t.each(t.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:t.ui.dialog.overlay.width(),height:t.ui.dialog.overlay.height()})}}),t.extend(t.ui.dialog.overlay.prototype,{destroy:function(){t.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i=this,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=n.values&&n.values.length||1,a=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&n.values.length!==2&&(n.values=[n.values[0],n.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(n.range==="min"||n.range==="max"?" ui-slider-range-"+n.range:"")));for(var l=s.length;o>l;l+=1)a.push(r);this.handles=s.add(t(a.join("")).appendTo(i.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).hover(function(){n.disabled||t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("index.ui-slider-handle",e)}),this.handles.keydown(function(n){var s,r,o,a,l=t(this).data("index.ui-slider-handle");if(!i.options.disabled){switch(n.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n.preventDefault(),!i._keySliding&&(i._keySliding=!0,t(this).addClass("ui-state-active"),s=i._start(n,l),s===!1))return}switch(a=i.options.step,r=o=i.options.values&&i.options.values.length?i.values(l):i.value(),n.keyCode){case t.ui.keyCode.HOME:o=i._valueMin();break;case t.ui.keyCode.END:o=i._valueMax();break;case t.ui.keyCode.PAGE_UP:o=i._trimAlignValue(r+(i._valueMax()-i._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:o=i._trimAlignValue(r-(i._valueMax()-i._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(r===i._valueMax())return;o=i._trimAlignValue(r+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(r===i._valueMin())return;o=i._trimAlignValue(r-a)}i._slide(n,l,o)}}).keyup(function(e){var n=t(this).data("index.ui-slider-handle");i._keySliding&&(i._keySliding=!1,i._stop(e,n),i._change(e,n),t(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(e){var i,n,s,r,o,a,l,u,h,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,o=this,this.handles.each(function(e){var i=Math.abs(n-o.values(e));s>i&&(s=i,r=t(this),a=e)}),c.range===!0&&this.values(1)===c.min&&(a+=1,r=t(this.handles[a])),l=this._start(e,a),l===!1?!1:(this._mouseSliding=!0,o._handleIndex=a,r.addClass("ui-state-active").focus(),u=r.offset(),h=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-u.left-r.width()/2,top:e.pageY-u.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,r;return this.orientation==="horizontal"?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),this.orientation==="vertical"&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,r;this.options.values&&this.options.values.length?(n=this.values(e?0:1),this.options.values.length===2&&this.options.range===!0&&(e===0&&i>n||e===1&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,r=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),r!==!1&&this.values(e,i,!0))):i!==this.value()&&(r=this._trigger("slide",t,{handle:this.handles[e],value:i}),r!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var n,s,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch(t.isArray(this.options.values)&&(s=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return Math.abs(i)*2>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,r,o=this.options.range,a=this.options,l=this,u=this._animateOff?!1:a.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){e=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h[l.orientation==="horizontal"?"left":"bottom"]=e+"%",t(this).stop(1,1)[u?"animate":"css"](h,a.animate),l.options.range===!0&&(l.orientation==="horizontal"?(n===0&&l.range.stop(1,1)[u?"animate":"css"]({left:e+"%"},a.animate),n===1&&l.range[u?"animate":"css"]({width:e-i+"%"},{queue:!1,duration:a.animate})):(n===0&&l.range.stop(1,1)[u?"animate":"css"]({bottom:e+"%"},a.animate),n===1&&l.range[u?"animate":"css"]({height:e-i+"%"},{queue:!1,duration:a.animate}))),i=e}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),e=r!==s?(n-s)/(r-s)*100:0,h[l.orientation==="horizontal"?"left":"bottom"]=e+"%",this.handle.stop(1,1)[u?"animate":"css"](h,a.animate),o==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:e+"%"},a.animate),o==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:a.animate}),o==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:e+"%"},a.animate),o==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:a.animate}))}}),t.extend(t.ui.slider,{version:"1.8.23"})}(jQuery),function(t,e){function i(){return++s}function n(){return++r}var s=0,r=0;t.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(t,e){if(t=="selected"){if(this.options.collapsible&&e==this.options.selected)return;this.select(e)}else this.options[t]=e,this._tabify()},_tabId:function(t){return t.title&&t.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+i()},_sanitizeSelector:function(t){return t.replace(/:/g,"\\:")},_cookie:function(){var e=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+n());return t.cookie.apply(null,[e].concat(t.makeArray(arguments)))},_ui:function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var e=t(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},_tabify:function(i){function n(e,i){e.css("display",""),!t.support.opacity&&i.opacity&&e[0].style.removeAttribute("filter")}var s=this,r=this.options,o=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=t(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return t("a",this)[0]}),this.panels=t([]),this.anchors.each(function(e,i){var n,a=t(i).attr("href"),l=a.split("#")[0];if(l&&(l===(location+"").split("#")[0]||(n=t("base")[0])&&l===n.href)&&(a=i.hash,i.href=a),o.test(a))s.panels=s.panels.add(s.element.find(s._sanitizeSelector(a)));else if(a&&a!=="#"){t.data(i,"href.tabs",a),t.data(i,"load.tabs",a.replace(/#.*$/,""));var u=s._tabId(i);i.href="#"+u;var h=s.element.find("#"+u);h.length||(h=t(r.panelTemplate).attr("id",u).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(s.panels[e-1]||s.list),h.data("destroy.tabs",!0)),s.panels=s.panels.add(h)}else r.disabled.push(e)}),i?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),r.selected===e?(location.hash&&this.anchors.each(function(t,e){return e.hash==location.hash?(r.selected=t,!1):void 0}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(s._cookie(),10)),typeof r.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||0>r.selected?r.selected:0,r.disabled=t.unique(r.disabled.concat(t.map(this.lis.filter(".ui-state-disabled"),function(t){return s.lis.index(t)}))).sort(),t.inArray(r.selected,r.disabled)!=-1&&r.disabled.splice(t.inArray(r.selected,r.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),r.selected>=0&&this.anchors.length&&(s.element.find(s._sanitizeSelector(s.anchors[r.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(r.selected).addClass("ui-tabs-selected ui-state-active"),s.element.queue("tabs",function(){s._trigger("show",null,s._ui(s.anchors[r.selected],s.element.find(s._sanitizeSelector(s.anchors[r.selected].hash))[0]))}),this.load(r.selected)),t(window).bind("unload",function(){s.lis.add(s.anchors).unbind(".tabs"),s.lis=s.anchors=s.panels=null})):r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[r.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),r.cookie&&this._cookie(r.selected,r.cookie);for(var a,l=0;a=this.lis[l];l++)t(a)[t.inArray(l,r.disabled)==-1||t(a).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(r.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),r.event!=="mouseover"){var u=function(t,e){e.is(":not(.ui-state-disabled)")&&e.addClass("ui-state-"+t)},h=function(t,e){e.removeClass("ui-state-"+t)};this.lis.bind("mouseover.tabs",function(){u("hover",t(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",t(this))}),this.anchors.bind("focus.tabs",function(){u("focus",t(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",t(this).closest("li"))})}var c,d;r.fx&&(t.isArray(r.fx)?(c=r.fx[0],d=r.fx[1]):c=d=r.fx);var p=d?function(e,i){t(e).closest("li").addClass("ui-tabs-selected ui-state-active"),i.hide().removeClass("ui-tabs-hide").animate(d,d.duration||"normal",function(){n(i,d),s._trigger("show",null,s._ui(e,i[0]))})}:function(e,i){t(e).closest("li").addClass("ui-tabs-selected ui-state-active"),i.removeClass("ui-tabs-hide"),s._trigger("show",null,s._ui(e,i[0]))},f=c?function(t,e){e.animate(c,c.duration||"normal",function(){s.lis.removeClass("ui-tabs-selected ui-state-active"),e.addClass("ui-tabs-hide"),n(e,c),s.element.dequeue("tabs")})}:function(t,e){s.lis.removeClass("ui-tabs-selected ui-state-active"),e.addClass("ui-tabs-hide"),s.element.dequeue("tabs")};this.anchors.bind(r.event+".tabs",function(){var e=this,i=t(e).closest("li"),n=s.panels.filter(":not(.ui-tabs-hide)"),o=s.element.find(s._sanitizeSelector(e.hash));if(i.hasClass("ui-tabs-selected")&&!r.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||s.panels.filter(":animated").length||s._trigger("select",null,s._ui(this,o[0]))===!1)return this.blur(),!1;if(r.selected=s.anchors.index(this),s.abort(),r.collapsible){if(i.hasClass("ui-tabs-selected"))return r.selected=-1,r.cookie&&s._cookie(r.selected,r.cookie),s.element.queue("tabs",function(){f(e,n)}).dequeue("tabs"),this.blur(),!1;if(!n.length)return r.cookie&&s._cookie(r.selected,r.cookie),s.element.queue("tabs",function(){p(e,o)}),s.load(s.anchors.index(this)),this.blur(),!1}if(r.cookie&&s._cookie(r.selected,r.cookie),!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";n.length&&s.element.queue("tabs",function(){f(e,n)}),s.element.queue("tabs",function(){p(e,o)}),s.load(s.anchors.index(this)),t.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(t){return typeof t=="string"&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},destroy:function(){var e=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var e=t.data(this,"href.tabs");e&&(this.href=e);var i=t(this).unbind(".tabs");t.each(["href","load","cache"],function(t,e){i.removeData(e+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){t.data(this,"destroy.tabs")?t(this).remove():t(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),e.cookie&&this._cookie(null,e.cookie),this},add:function(i,n,s){s===e&&(s=this.anchors.length);var r=this,o=this.options,a=t(o.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,n)),l=i.indexOf("#")?this._tabId(t("a",a)[0]):i.replace("#","");a.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var u=r.element.find("#"+l);return u.length||(u=t(o.panelTemplate).attr("id",l).data("destroy.tabs",!0)),u.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),this.lis.length>s?(a.insertBefore(this.lis[s]),u.insertBefore(this.panels[s])):(a.appendTo(this.list),u.appendTo(this.list[0].parentNode)),o.disabled=t.map(o.disabled,function(t){return s>t?t:++t}),this._tabify(),this.anchors.length==1&&(o.selected=0,a.addClass("ui-tabs-selected ui-state-active"),u.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){r._trigger("show",null,r._ui(r.anchors[0],r.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[s],this.panels[s])),this},remove:function(e){e=this._getIndex(e);var i=this.options,n=this.lis.eq(e).remove(),s=this.panels.eq(e).remove();return n.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(e+(this.anchors.length>e+1?1:-1)),i.disabled=t.map(t.grep(i.disabled,function(t){return t!=e}),function(t){return e>t?t:--t}),this._tabify(),this._trigger("remove",null,this._ui(n.find("a")[0],s[0])),this},enable:function(e){e=this._getIndex(e);var i=this.options;if(t.inArray(e,i.disabled)!=-1)return this.lis.eq(e).removeClass("ui-state-disabled"),i.disabled=t.grep(i.disabled,function(t){return t!=e}),this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e])),this},disable:function(t){t=this._getIndex(t);var e=this.options;return t!=e.selected&&(this.lis.eq(t).addClass("ui-state-disabled"),e.disabled.push(t),e.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))),this},select:function(t){if(t=this._getIndex(t),t==-1){if(!this.options.collapsible||this.options.selected==-1)return this;t=this.options.selected}return this.anchors.eq(t).trigger(this.options.event+".tabs"),this},load:function(e){e=this._getIndex(e);var i=this,n=this.options,s=this.anchors.eq(e)[0],r=t.data(s,"load.tabs");if(this.abort(),!r||this.element.queue("tabs").length!==0&&t.data(s,"cache.tabs"))return this.element.dequeue("tabs"),void 0;if(this.lis.eq(e).addClass("ui-state-processing"),n.spinner){var o=t("span",s);o.data("label.tabs",o.html()).html(n.spinner)}return this.xhr=t.ajax(t.extend({},n.ajaxOptions,{url:r,success:function(r,o){i.element.find(i._sanitizeSelector(s.hash)).html(r),i._cleanup(),n.cache&&t.data(s,"cache.tabs",!0),i._trigger("load",null,i._ui(i.anchors[e],i.panels[e]));try{n.ajaxOptions.success(r,o)}catch(a){}},error:function(t,r){i._cleanup(),i._trigger("load",null,i._ui(i.anchors[e],i.panels[e]));try{n.ajaxOptions.error(t,r,e,s)}catch(o){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(t,e){return this.anchors.eq(t).removeData("cache.tabs").data("load.tabs",e),this},length:function(){return this.anchors.length}}),t.extend(t.ui.tabs,{version:"1.8.23"}),t.extend(t.ui.tabs.prototype,{rotation:null,rotate:function(t,e){var i=this,n=this.options,s=i._rotate||(i._rotate=function(e){clearTimeout(i.rotation),i.rotation=setTimeout(function(){var t=n.selected;i.select(i.anchors.length>++t?t:0)},t),e&&e.stopPropagation()}),r=i._unrotate||(i._unrotate=e?function(){s()}:function(t){t.clientX&&i.rotate(null)});return t?(this.element.bind("tabsshow",s),this.anchors.bind(n.event+".tabs",r),s()):(clearTimeout(i.rotation),this.element.unbind("tabsshow",s),this.anchors.unbind(n.event+".tabs",r),delete this._rotate,delete this._unrotate),this}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))
}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.bind("mouseout",function(t){var i=$(t.target).closest(e);i.length&&i.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(i){var n=$(i.target).closest(e);!$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])&&n.length&&(n.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n.addClass("ui-state-hover"),n.hasClass("ui-datepicker-prev")&&n.addClass("ui-datepicker-prev-hover"),n.hasClass("ui-datepicker-next")&&n.addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){$.extend(t,e);for(var i in e)(e[i]==null||e[i]==undefined)&&(t[i]=e[i]);return t}function isArray(t){return t&&($.browser.safari&&typeof t=="object"&&t.length||t.constructor&&(t.constructor+"").match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.23"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){var i=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),t[n?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var s=this._get(e,"showOn");if((s=="focus"||s=="both")&&t.focus(this._showDatepicker),s=="button"||s=="both"){var r=this._get(e,"buttonText"),o=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?r:$("<img/>").attr({src:o,alt:r,title:r}))),t[n?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var n=function(t){for(var e=0,i=0,n=0;t.length>n;n++)t[n].length>e&&(e=t[n].length,i=n);return i};e.setMonth(n(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(n(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,s){var r=this._dialogInst;if(!r){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),r=this._dialogInst=this._newInst(this._dialogInput,!1),r.settings={},$.data(this._dialogInput[0],PROP_NAME,r)}if(extendRemove(r.settings,n||{}),e=e&&e.constructor==Date?this._formatDate(r,e):e,this._dialogInput.val(e),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+u,l/2-150+h]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,r),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),n=="input"?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(n=="div"||n=="span")&&e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if(n=="input")t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(n=="div"||n=="span"){var s=e.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if(n=="input")t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(n=="div"||n=="span"){var s=e.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n=this._getInst(t);if(arguments.length==2&&typeof e=="string")return e=="defaults"?$.extend({},$.datepicker._defaults):n?e=="all"?$.extend({},n.settings):this._get(n,e):null;var s=e||{};if(typeof e=="string"&&(s={},s[e]=i),n){this._curInst==n&&this._hideDatepicker();var r=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(n,"min"),a=this._getMinMaxDate(n,"max");extendRemove(n.settings,s),o!==null&&s.dateFormat!==undefined&&s.minDate===undefined&&(n.settings.minDate=this._formatDate(n,o)),a!==null&&s.dateFormat!==undefined&&s.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,a)),this._attachments($(t),n),this._autoSize(n),this._setDate(n,r),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,n=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);s[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,s[0]);var r=$.datepicker._get(e,"onSelect");if(r){var o=$.datepicker._formatDate(e);r.apply(e.input?e.input[0]:null,[o,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else t.keyCode==36&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),n=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e));i&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(n){$.datepicker.log(n)}return!0},_showDatepicker:function(t){if(t=t.target||t,t.nodeName.toLowerCase()!="input"&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),n=i?i.apply(t,[t,e]):{};if(n!==!1){extendRemove(e.settings,n),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var s=!1;$(t).parents().each(function(){return s|=$(this).css("position")=="fixed",!s}),s&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var r={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),r=$.datepicker._checkOffset(e,r,s),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),!e.inline){var o=$.datepicker._get(e,"showAnim"),a=$.datepicker._get(e,"duration"),l=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[o]?e.dpDiv.show(o,$.datepicker._get(e,"showOptions"),a,l):e.dpDiv[o||"show"](o?a:null,l),(!o||!a)&&l(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){var e=this;e.maxRows=4;var i=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n=t.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var s=this._getNumberOfMonths(t),r=s[1],o=17;if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),t.dpDiv[(s[0]!=1||s[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var a=t.yearshtml;setTimeout(function(){a===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),a=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?n-r:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+o?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>a&&a>n?Math.abs(e.left+n-a):0),e.top-=Math.min(e.top,e.top+s>l&&l>s?Math.abs(s+o):0),e},_findPos:function(t){var e=this._getInst(t),i=this._get(e,"isRTL");while(t&&(t.type=="hidden"||t.nodeType!=1||$.expr.filters.hidden(t)))t=t[i?"previousSibling":"nextSibling"];var n=$(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),n=this._get(e,"duration"),s=function(){$.datepicker._tidyDialog(e)};$.effects&&$.effects[i]?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),n,s):e.dpDiv[i=="slideDown"?"slideUp":i=="fadeIn"?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1;var r=this._get(e,"onClose");r&&r.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id!=$.datepicker._mainDivId&&e.parents("#"+$.datepicker._mainDivId).length==0&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=$(t),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,e+(i=="M"?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=$(t),s=this._getInst(n[0]);s["selected"+(i=="M"?"Month":"Year")]=s["draw"+(i=="M"?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(t,e,i,n){var s=$(t);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var r=this._getInst(s[0]);r.selectedDay=r.currentDay=$("a",n).html(),r.selectedMonth=r.currentMonth=e,r.selectedYear=r.currentYear=i,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),n=this._getInst(i[0]);e=e!=null?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n);var s=this._get(n,"onSelect");s?s.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],typeof n.input[0]!="object"&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t));$(e).each(function(){$(this).val(s)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(t==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e+"":e+"",e=="")return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n=typeof n!="string"?n:(new Date).getFullYear()%100+parseInt(n,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,u=-1,h=-1,c=-1,d=!1,p=function(e){var i=t.length>b+1&&t.charAt(b+1)==e;return i&&b++,i},f=function(t){var i=p(t),n=t=="@"?14:t=="!"?20:t=="y"&&i?4:t=="o"?3:2,s=RegExp("^\\d{1,"+n+"}"),r=e.substring(v).match(s);if(!r)throw"Missing number at position "+v;return v+=r[0].length,parseInt(r[0],10)},g=function(t,i,n){var s=$.map(p(t)?n:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),r=-1;if($.each(s,function(t,i){var n=i[1];return e.substr(v,n.length).toLowerCase()==n.toLowerCase()?(r=i[0],v+=n.length,!1):undefined}),r!=-1)return r+1;throw"Unknown name at position "+v},m=function(){if(e.charAt(v)!=t.charAt(b))throw"Unexpected literal at position "+v;v++},v=0,b=0;t.length>b;b++)if(d)t.charAt(b)!="'"||p("'")?m():d=!1;else switch(t.charAt(b)){case"d":h=f("d");break;case"D":g("D",s,r);break;case"o":c=f("o");break;case"m":u=f("m");break;case"M":u=g("M",o,a);break;case"y":l=f("y");break;case"@":var y=new Date(f("@"));l=y.getFullYear(),u=y.getMonth()+1,h=y.getDate();break;case"!":var y=new Date((f("!")-this._ticksTo1970)/1e4);l=y.getFullYear(),u=y.getMonth()+1,h=y.getDate();break;case"'":p("'")?m():d=!0;break;default:m()}if(e.length>v)throw"Extra/unparsed characters found in date: "+e.substring(v);if(l==-1?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>n?-100:0)),c>-1)for(u=1,h=c;;){var _=this._getDaysInMonth(l,u-1);if(_>=h)break;u++,h-=_}var y=this._daylightSavingAdjust(new Date(l,u-1,h));if(y.getFullYear()!=l||y.getMonth()+1!=u||y.getDate()!=h)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,a=function(e){var i=t.length>d+1&&t.charAt(d+1)==e;return i&&d++,i},l=function(t,e,i){var n=""+e;if(a(t))while(i>n.length)n="0"+n;return n},u=function(t,e,i,n){return a(t)?n[e]:i[e]},h="",c=!1;if(e)for(var d=0;t.length>d;d++)if(c)t.charAt(d)!="'"||a("'")?h+=t.charAt(d):c=!1;else switch(t.charAt(d)){case"d":h+=l("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),n,s);break;case"o":h+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),r,o);break;case"y":h+=a("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=e.getTime()*1e4+this._ticksTo1970;break;case"'":a("'")?h+="'":c=!0;break;default:h+=t.charAt(d)}return h},_possibleChars:function(t){for(var e="",i=!1,n=function(e){var i=t.length>s+1&&t.charAt(s+1)==e;return i&&s++,i},s=0;t.length>s;s++)if(i)t.charAt(s)!="'"||n("'")?e+=t.charAt(s):i=!1;else switch(t.charAt(s)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":n("'")?e+="'":i=!0;break;default:e+=t.charAt(s)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,n,s=this._get(t,"dateFormat"),r=t.lastVal=t.input?t.input.val():null;i=n=this._getDefaultDate(t);var o=this._getFormatConfig(t);try{i=this.parseDate(s,r,o)||n}catch(a){this.log(a),r=e?"":r}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=r?i.getDate():0,t.currentMonth=r?i.getMonth():0,t.currentYear=r?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(i){}var n=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,s=n.getFullYear(),r=n.getMonth(),o=n.getDate(),a=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(e);while(l){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=parseInt(l[1],10)*7;break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(s,r))}l=a.exec(e)}return new Date(s,r,o)},r=e==null||e===""?i:typeof e=="string"?s(e):typeof e=="number"?isNaN(e)?i:n(e):new Date(e.getTime());return r=r&&r+""=="Invalid Date"?i:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,r=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),(s!=t.selectedMonth||r!=t.selectedYear)&&!i&&this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&t.input.val()==""?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),n=this._get(t,"showButtonPanel"),s=this._get(t,"hideIfNoPrevNext"),r=this._get(t,"navigationAsDateFormat"),o=this._getNumberOfMonths(t),a=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),u=o[0]!=1||o[1]!=1,h=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),p=t.drawMonth-a,f=t.drawYear;if(0>p&&(p+=12,f--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-o[0]*o[1]+1,d.getDate()));g=c&&c>g?c:g;while(this._daylightSavingAdjust(new Date(f,p,1))>g)p--,0>p&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=r?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",b=this._get(t,"nextText");b=r?this.formatDate(b,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(t)):b;var y=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>",_=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?h:e;_=r?this.formatDate(_,w,this._getFormatConfig(t)):_;var k=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",x=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?k:"")+(this._isInRange(t,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(i?"":k)+"</div>":"",C=parseInt(this._get(t,"firstDay"),10);C=isNaN(C)?0:C;for(var D=this._get(t,"showWeek"),S=this._get(t,"dayNames"),T=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),I=this._get(t,"monthNames"),M=this._get(t,"monthNamesShort"),P=this._get(t,"beforeShowDay"),E=this._get(t,"showOtherMonths"),A=this._get(t,"selectOtherMonths"),O=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),N="",z=0;o[0]>z;z++){var H="";this.maxRows=4;for(var W=0;o[1]>W;W++){var j=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),R=" ui-corner-all",F="";if(u){if(F+='<div class="ui-datepicker-group',o[1]>1)switch(W){case 0:F+=" ui-datepicker-group-first",R=" ui-corner-"+(i?"right":"left");break;case o[1]-1:F+=" ui-datepicker-group-last",R=" ui-corner-"+(i?"left":"right");break;default:F+=" ui-datepicker-group-middle",R=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&z==0?i?y:v:"")+(/all|right/.test(R)&&z==0?i?v:y:"")+this._generateMonthYearHeader(t,p,f,c,d,z>0||W>0,I,M)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var L=D?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",q=0;7>q;q++){var B=(q+C)%7;L+="<th"+(5>(q+C+6)%7?"":' class="ui-datepicker-week-end"')+">"+'<span title="'+S[B]+'">'+T[B]+"</span></th>"}F+=L+"</tr></thead><tbody>";var Y=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,Y));var U=(this._getFirstDayOfMonth(f,p)-C+7)%7,K=Math.ceil((U+Y)/7),V=u?this.maxRows>K?this.maxRows:K:K;this.maxRows=V;for(var Q=this._daylightSavingAdjust(new Date(f,p,1-U)),J=0;V>J;J++){F+="<tr>";for(var X=D?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(Q)+"</td>":"",q=0;7>q;q++){var G=P?P.apply(t.input?t.input[0]:null,[Q]):[!0,""],Z=Q.getMonth()!=p,te=Z&&!A||!G[0]||c&&c>Q||d&&Q>d;X+='<td class="'+(5>(q+C+6)%7?"":" ui-datepicker-week-end")+(Z?" ui-datepicker-other-month":"")+(Q.getTime()==j.getTime()&&p==t.selectedMonth&&t._keyEvent||O.getTime()==Q.getTime()&&O.getTime()==j.getTime()?" "+this._dayOverClass:"")+(te?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!E?"":" "+G[1]+(Q.getTime()==h.getTime()?" "+this._currentClass:"")+(Q.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!E||!G[2]?"":' title="'+G[2]+'"')+(te?"":' data-handler="selectDay" data-event="click" data-month="'+Q.getMonth()+'" data-year="'+Q.getFullYear()+'"')+">"+(Z&&!E?"&#xa0;":te?'<span class="ui-state-default">'+Q.getDate()+"</span>":'<a class="ui-state-default'+(Q.getTime()==e.getTime()?" ui-state-highlight":"")+(Q.getTime()==h.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+Q.getDate()+"</a>")+"</td>",Q.setDate(Q.getDate()+1),Q=this._daylightSavingAdjust(Q)}F+=X+"</tr>"}p++,p>11&&(p=0,f++),F+="</tbody></table>"+(u?"</div>"+(o[0]>0&&W==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),H+=F}N+=H}return N+=x+($.browser.msie&&7>parseInt($.browser.version,10)&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,N},_generateMonthYearHeader:function(t,e,i,n,s,r,o,a){var l=this._get(t,"changeMonth"),u=this._get(t,"changeYear"),h=this._get(t,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',d="";if(r||!l)d+='<span class="ui-datepicker-month">'+o[e]+"</span>";else{var p=n&&n.getFullYear()==i,f=s&&s.getFullYear()==i;d+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;12>g;g++)!(p&&n.getMonth()>g||f&&g>s.getMonth()||!(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+a[g]+"</option>"));d+="</select>"}if(h||(c+=d+(!r&&l&&u?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!u)c+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),b=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);
return isNaN(e)?v:e},y=b(m[0]),_=Math.max(y,b(m[1]||""));for(y=n?Math.max(y,n.getFullYear()):y,_=s?Math.min(_,s.getFullYear()):_,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';_>=y;y++)t.yearshtml+='<option value="'+y+'"'+(y==i?' selected="selected"':"")+">"+y+"</option>";t.yearshtml+="</select>",c+=t.yearshtml,t.yearshtml=null}return c+=this._get(t,"yearSuffix"),h&&(c+=(!r&&l&&u?"":"&#xa0;")+d),c+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+(i=="Y"?e:0),s=t.drawMonth+(i=="M"?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+(i=="D"?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,r)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),(i=="M"||i=="Y")&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return s=n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return e==null?[1,1]:typeof e=="number"?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max");return!(i&&i.getTime()>e.getTime()||n&&e.getTime()>n.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?typeof e=="object"?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return typeof t!="string"||t!="isDisabled"&&t!="getDate"&&t!="widget"?t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){typeof t=="string"?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.23",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(t,e){t.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),t.Widget.prototype.destroy.apply(this,arguments)},value:function(t){return t===e?this._value():(this._setOption("value",t),this)},_setOption:function(e,i){e==="value"&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),t.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var t=this.options.value;return typeof t!="number"&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}}),t.extend(t.ui.progressbar,{version:"1.8.23"})}(jQuery),jQuery.effects||function(t,e){function i(e){var i;return e&&e.constructor==Array&&e.length==3?e:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:(i=/rgba\(0, 0, 0, 0\)/.exec(e))?u.transparent:u[t.trim(e).toLowerCase()]}function n(e,n){var s;do{if(s=(t.curCSS||t.css)(e,n),s!=""&&s!="transparent"||t.nodeName(e,"body"))break;n="backgroundColor"}while(e=e.parentNode);return i(s)}function s(){var t,e,i=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={};if(i&&i.length&&i[0]&&i[i[0]]){var s=i.length;while(s--)t=i[s],typeof i[t]=="string"&&(e=t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n[e]=i[t])}else for(t in i)typeof i[t]=="string"&&(n[t]=i[t]);return n}function r(e){var i,n;for(i in e)n=e[i],(n==null||t.isFunction(n)||i in c||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(n)))&&delete e[i];return e}function o(t,e){var i,n={_:0};for(i in e)t[i]!=e[i]&&(n[i]=e[i]);return n}function a(e,i,n,s){return typeof e=="object"&&(s=i,n=null,i=e,e=i.effect),t.isFunction(i)&&(s=i,n=null,i={}),(typeof i=="number"||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i=i||{},n=n||i.duration,n=t.fx.off?0:typeof n=="number"?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,s=s||i.complete,[e,i,n,s]}function l(e){return!e||typeof e=="number"||t.fx.speeds[e]?!0:typeof e!="string"||t.effects[e]?!1:!0}t.effects={},t.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,s){t.fx.step[s]=function(t){t.colorInit||(t.start=n(t.elem,s),t.end=i(t.end),t.colorInit=!0),t.elem.style[s]="rgb("+Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2],10),255),0)+")"}});var u={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},h=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.effects.animateClass=function(e,i,n,a){return t.isFunction(n)&&(a=n,n=null),this.queue(function(){var l,u=t(this),c=u.attr("style")||" ",d=r(s.call(this)),p=u.attr("class")||"";t.each(h,function(t,i){e[i]&&u[i+"Class"](e[i])}),l=r(s.call(this)),u.attr("class",p),u.animate(o(d,l),{queue:!1,duration:i,easing:n,complete:function(){t.each(h,function(t,i){e[i]&&u[i+"Class"](e[i])}),typeof u.attr("style")=="object"?(u.attr("style").cssText="",u.attr("style").cssText=c):u.attr("style",c),a&&a.apply(this,arguments),t.dequeue(this)}})})},t.fn.extend({_addClass:t.fn.addClass,addClass:function(e,i,n,s){return i?t.effects.animateClass.apply(this,[{add:e},i,n,s]):this._addClass(e)},_removeClass:t.fn.removeClass,removeClass:function(e,i,n,s){return i?t.effects.animateClass.apply(this,[{remove:e},i,n,s]):this._removeClass(e)},_toggleClass:t.fn.toggleClass,toggleClass:function(i,n,s,r,o){return typeof n=="boolean"||n===e?s?t.effects.animateClass.apply(this,[n?{add:i}:{remove:i},s,r,o]):this._toggleClass(i,n):t.effects.animateClass.apply(this,[{toggle:i},n,s,r])},switchClass:function(e,i,n,s,r){return t.effects.animateClass.apply(this,[{add:i,remove:e},n,s,r])}}),t.extend(t.effects,{version:"1.8.23",save:function(t,e){for(var i=0;e.length>i;i++)e[i]!==null&&t.data("ec.storage."+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i=0;e.length>i;i++)e[i]!==null&&t.css(e[i],t.data("ec.storage."+e[i]))},setMode:function(t,e){return e=="toggle"&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s=document.activeElement;try{s.id}catch(r){s=document.body}return e.wrap(n),(e[0]===s||t.contains(e[0],s))&&t(s).focus(),n=e.parent(),e.css("position")=="static"?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(i).show()},removeWrapper:function(e){var i,n=document.activeElement;return e.parent().is(".ui-effects-wrapper")?(i=e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus(),i):e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(s[i]=r[0]*n+r[1])}),s}}),t.fn.extend({effect:function(e){var i=a.apply(this,arguments),n={options:i[1],duration:i[2],callback:i[3]},s=n.options.mode,r=t.effects[e];return t.fx.off||!r?s?this[s](n.duration,n.callback):this.each(function(){n.callback&&n.callback.call(this)}):r.call(this,n)},_show:t.fn.show,show:function(t){if(l(t))return this._show.apply(this,arguments);var e=a.apply(this,arguments);return e[1].mode="show",this.effect.apply(this,e)},_hide:t.fn.hide,hide:function(t){if(l(t))return this._hide.apply(this,arguments);var e=a.apply(this,arguments);return e[1].mode="hide",this.effect.apply(this,e)},__toggle:t.fn.toggle,toggle:function(e){if(l(e)||typeof e=="boolean"||t.isFunction(e))return this.__toggle.apply(this,arguments);var i=a.apply(this,arguments);return i[1].mode="toggle",this.effect.apply(this,i)},cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}});var d={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){d[e]=function(e){return Math.pow(e,t+2)}}),t.extend(d,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return t===0||t===1?t:-Math.pow(2,8*(t-1))*Math.sin(((t-1)*80-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){var e,i=4;while(((e=Math.pow(2,--i))-1)/11>t);return 1/Math.pow(4,3-i)-7.5625*Math.pow((e*3-2)/22-t,2)}}),t.each(d,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(t*2)/2:i(t*-2+2)/-2+1}})}(jQuery),function(t){t.effects.blind=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"hide"),r=e.options.direction||"vertical";t.effects.save(i,n),i.show();var o=t.effects.createWrapper(i).css({overflow:"hidden"}),a=r=="vertical"?"height":"width",l=r=="vertical"?o.height():o.width();s=="show"&&o.css(a,0);var u={};u[a]=s=="show"?l:0,o.animate(u,e.duration,e.options.easing,function(){s=="hide"&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(t){t.effects.bounce=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"effect"),r=e.options.direction||"up",o=e.options.distance||20,a=e.options.times||5,l=e.duration||250;/show|hide/.test(s)&&n.push("opacity"),t.effects.save(i,n),i.show(),t.effects.createWrapper(i);var u=r=="up"||r=="down"?"top":"left",h=r=="up"||r=="left"?"pos":"neg",o=e.options.distance||(u=="top"?i.outerHeight(!0)/3:i.outerWidth(!0)/3);if(s=="show"&&i.css("opacity",0).css(u,h=="pos"?-o:o),s=="hide"&&(o/=a*2),s!="hide"&&a--,s=="show"){var c={opacity:1};c[u]=(h=="pos"?"+=":"-=")+o,i.animate(c,l/2,e.options.easing),o/=2,a--}for(var d=0;a>d;d++){var p={},f={};p[u]=(h=="pos"?"-=":"+=")+o,f[u]=(h=="pos"?"+=":"-=")+o,i.animate(p,l/2,e.options.easing).animate(f,l/2,e.options.easing),o=s=="hide"?o*2:o/2}if(s=="hide"){var c={opacity:0};c[u]=(h=="pos"?"-=":"+=")+o,i.animate(c,l/2,e.options.easing,function(){i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments)})}else{var p={},f={};p[u]=(h=="pos"?"-=":"+=")+o,f[u]=(h=="pos"?"+=":"-=")+o,i.animate(p,l/2,e.options.easing).animate(f,l/2,e.options.easing,function(){t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments)})}i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(t){t.effects.clip=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(i,e.options.mode||"hide"),r=e.options.direction||"vertical";t.effects.save(i,n),i.show();var o=t.effects.createWrapper(i).css({overflow:"hidden"}),a=i[0].tagName=="IMG"?o:i,l={size:r=="vertical"?"height":"width",position:r=="vertical"?"top":"left"},u=r=="vertical"?a.height():a.width();s=="show"&&(a.css(l.size,0),a.css(l.position,u/2));var h={};h[l.size]=s=="show"?u:0,h[l.position]=s=="show"?0:u/2,a.animate(h,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){s=="hide"&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()}})})}}(jQuery),function(t){t.effects.drop=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right","opacity"],s=t.effects.setMode(i,e.options.mode||"hide"),r=e.options.direction||"left";t.effects.save(i,n),i.show(),t.effects.createWrapper(i);var o=r=="up"||r=="down"?"top":"left",a=r=="up"||r=="left"?"pos":"neg",l=e.options.distance||(o=="top"?i.outerHeight(!0)/2:i.outerWidth(!0)/2);s=="show"&&i.css("opacity",0).css(o,a=="pos"?-l:l);var u={opacity:s=="show"?1:0};u[o]=(s=="show"?a=="pos"?"+=":"-=":a=="pos"?"-=":"+=")+l,i.animate(u,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){s=="hide"&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(t){t.effects.explode=function(e){return this.queue(function(){var i=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3,n=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3;e.options.mode=e.options.mode=="toggle"?t(this).is(":visible")?"hide":"show":e.options.mode;var s=t(this).show().css("visibility","hidden"),r=s.offset();r.top-=parseInt(s.css("marginTop"),10)||0,r.left-=parseInt(s.css("marginLeft"),10)||0;for(var o=s.outerWidth(!0),a=s.outerHeight(!0),l=0;i>l;l++)for(var u=0;n>u;u++)s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-u*(o/n),top:-l*(a/i)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:o/n,height:a/i,left:r.left+u*(o/n)+(e.options.mode=="show"?(u-Math.floor(n/2))*(o/n):0),top:r.top+l*(a/i)+(e.options.mode=="show"?(l-Math.floor(i/2))*(a/i):0),opacity:e.options.mode=="show"?0:1}).animate({left:r.left+u*(o/n)+(e.options.mode=="show"?0:(u-Math.floor(n/2))*(o/n)),top:r.top+l*(a/i)+(e.options.mode=="show"?0:(l-Math.floor(i/2))*(a/i)),opacity:e.options.mode=="show"?1:0},e.duration||500);setTimeout(function(){e.options.mode=="show"?s.css({visibility:"visible"}):s.css({visibility:"visible"}).hide(),e.callback&&e.callback.apply(s[0]),s.dequeue(),t("div.ui-effects-explode").remove()},e.duration||500)})}}(jQuery),function(t){t.effects.fade=function(e){return this.queue(function(){var i=t(this),n=t.effects.setMode(i,e.options.mode||"hide");i.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(t){t.effects.fold=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"hide"),r=e.options.size||15,o=!!e.options.horizFirst,a=e.duration?e.duration/2:t.fx.speeds._default/2;t.effects.save(i,n),i.show();var l=t.effects.createWrapper(i).css({overflow:"hidden"}),u=s=="show"!=o,h=u?["width","height"]:["height","width"],c=u?[l.width(),l.height()]:[l.height(),l.width()],d=/([0-9]+)%/.exec(r);d&&(r=parseInt(d[1],10)/100*c[s=="hide"?0:1]),s=="show"&&l.css(o?{height:0,width:r}:{height:r,width:0});var p={},f={};p[h[0]]=s=="show"?c[0]:r,f[h[1]]=s=="show"?c[1]:0,l.animate(p,a,e.options.easing).animate(f,a,e.options.easing,function(){s=="hide"&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(t){t.effects.highlight=function(e){return this.queue(function(){var i=t(this),n=["backgroundImage","backgroundColor","opacity"],s=t.effects.setMode(i,e.options.mode||"show"),r={backgroundColor:i.css("backgroundColor")};s=="hide"&&(r.opacity=0),t.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:e.options.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){s=="hide"&&i.hide(),t.effects.restore(i,n),s=="show"&&!t.support.opacity&&this.style.removeAttribute("filter"),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(t){t.effects.pulsate=function(e){return this.queue(function(){var i=t(this),n=t.effects.setMode(i,e.options.mode||"show"),s=(e.options.times||5)*2-1,r=e.duration?e.duration/2:t.fx.speeds._default/2,o=i.is(":visible"),a=0;o||(i.css("opacity",0).show(),a=1),(n=="hide"&&o||n=="show"&&!o)&&s--;for(var l=0;s>l;l++)i.animate({opacity:a},r,e.options.easing),a=(a+1)%2;i.animate({opacity:a},r,e.options.easing,function(){a==0&&i.hide(),e.callback&&e.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),function(t){t.effects.puff=function(e){return this.queue(function(){var i=t(this),n=t.effects.setMode(i,e.options.mode||"hide"),s=parseInt(e.options.percent,10)||150,r=s/100,o={height:i.height(),width:i.width()};t.extend(e.options,{fade:!0,mode:n,percent:n=="hide"?s:100,from:n=="hide"?o:{height:o.height*r,width:o.width*r}}),i.effect("scale",e.options,e.duration,e.callback),i.dequeue()})},t.effects.scale=function(e){return this.queue(function(){var i=t(this),n=t.extend(!0,{},e.options),s=t.effects.setMode(i,e.options.mode||"effect"),r=parseInt(e.options.percent,10)||(parseInt(e.options.percent,10)==0?0:s=="hide"?0:100),o=e.options.direction||"both",a=e.options.origin;s!="effect"&&(n.origin=a||["middle","center"],n.restore=!0);var l={height:i.height(),width:i.width()};i.from=e.options.from||(s=="show"?{height:0,width:0}:l);var u={y:o!="horizontal"?r/100:1,x:o!="vertical"?r/100:1};i.to={height:l.height*u.y,width:l.width*u.x},e.options.fade&&(s=="show"&&(i.from.opacity=0,i.to.opacity=1),s=="hide"&&(i.from.opacity=1,i.to.opacity=0)),n.from=i.from,n.to=i.to,n.mode=s,i.effect("size",n,e.duration,e.callback),i.dequeue()})},t.effects.size=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right","width","height","overflow","opacity"],s=["position","top","bottom","left","right","overflow","opacity"],r=["width","height","overflow"],o=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.effects.setMode(i,e.options.mode||"effect"),h=e.options.restore||!1,c=e.options.scale||"both",d=e.options.origin,p={height:i.height(),width:i.width()};if(i.from=e.options.from||p,i.to=e.options.to||p,d){var f=t.effects.getBaseline(d,p);i.from.top=(p.height-i.from.height)*f.y,i.from.left=(p.width-i.from.width)*f.x,i.to.top=(p.height-i.to.height)*f.y,i.to.left=(p.width-i.to.width)*f.x}var g={from:{y:i.from.height/p.height,x:i.from.width/p.width},to:{y:i.to.height/p.height,x:i.to.width/p.width}};(c=="box"||c=="both")&&(g.from.y!=g.to.y&&(n=n.concat(a),i.from=t.effects.setTransition(i,a,g.from.y,i.from),i.to=t.effects.setTransition(i,a,g.to.y,i.to)),g.from.x!=g.to.x&&(n=n.concat(l),i.from=t.effects.setTransition(i,l,g.from.x,i.from),i.to=t.effects.setTransition(i,l,g.to.x,i.to))),(c=="content"||c=="both")&&g.from.y!=g.to.y&&(n=n.concat(o),i.from=t.effects.setTransition(i,o,g.from.y,i.from),i.to=t.effects.setTransition(i,o,g.to.y,i.to)),t.effects.save(i,h?n:s),i.show(),t.effects.createWrapper(i),i.css("overflow","hidden").css(i.from),(c=="content"||c=="both")&&(a=a.concat(["marginTop","marginBottom"]).concat(o),l=l.concat(["marginLeft","marginRight"]),r=n.concat(a).concat(l),i.find("*[width]").each(function(){var i=t(this);h&&t.effects.save(i,r);var n={height:i.height(),width:i.width()};i.from={height:n.height*g.from.y,width:n.width*g.from.x},i.to={height:n.height*g.to.y,width:n.width*g.to.x},g.from.y!=g.to.y&&(i.from=t.effects.setTransition(i,a,g.from.y,i.from),i.to=t.effects.setTransition(i,a,g.to.y,i.to)),g.from.x!=g.to.x&&(i.from=t.effects.setTransition(i,l,g.from.x,i.from),i.to=t.effects.setTransition(i,l,g.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.options.easing,function(){h&&t.effects.restore(i,r)})})),i.animate(i.to,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){i.to.opacity===0&&i.css("opacity",i.from.opacity),u=="hide"&&i.hide(),t.effects.restore(i,h?n:s),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(t){t.effects.shake=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=(t.effects.setMode(i,e.options.mode||"effect"),e.options.direction||"left"),r=e.options.distance||20,o=e.options.times||3,a=e.duration||e.options.duration||140;t.effects.save(i,n),i.show(),t.effects.createWrapper(i);var l=s=="up"||s=="down"?"top":"left",u=s=="up"||s=="left"?"pos":"neg",h={},c={},d={};h[l]=(u=="pos"?"-=":"+=")+r,c[l]=(u=="pos"?"+=":"-=")+r*2,d[l]=(u=="pos"?"-=":"+=")+r*2,i.animate(h,a,e.options.easing);for(var p=1;o>p;p++)i.animate(c,a,e.options.easing).animate(d,a,e.options.easing);i.animate(c,a,e.options.easing).animate(h,a/2,e.options.easing,function(){t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(t){t.effects.slide=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"show"),r=e.options.direction||"left";t.effects.save(i,n),i.show(),t.effects.createWrapper(i).css({overflow:"hidden"});var o=r=="up"||r=="down"?"top":"left",a=r=="up"||r=="left"?"pos":"neg",l=e.options.distance||(o=="top"?i.outerHeight(!0):i.outerWidth(!0));s=="show"&&i.css(o,a=="pos"?isNaN(l)?"-"+l:-l:l);var u={};u[o]=(s=="show"?a=="pos"?"+=":"-=":a=="pos"?"-=":"+=")+l,i.animate(u,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){s=="hide"&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(t){t.effects.transfer=function(e){return this.queue(function(){var i=t(this),n=t(e.options.to),s=n.offset(),r={top:s.top,left:s.left,height:n.innerHeight(),width:n.innerWidth()},o=i.offset(),a=t('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(e.options.className).css({top:o.top,left:o.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(r,e.duration,e.options.easing,function(){a.remove(),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),define("jquery-ui",function(){}),define("bindings/datepicker",["require","exports","module","knockout","jquery-ui"],function(t){var e=t("knockout");t("jquery-ui"),e.bindingHandlers.datepicker={init:function(t,e,i){var n=i(),s=e(),r={};n.datepickerOptions&&(r=n.datepickerOptions),r.onSelect=function(){var e=$(t).datepicker("getDate");s(e)},$(t).datepicker(r)},update:function(t,i){var n=e.utils.unwrapObservable(i());$(t).datepicker("setDate",n)}}}),define("bindings/scroll-to",["require","exports","module","knockout"],function(t){var e=t("knockout");e.bindingHandlers.scrollTo={init:function(t,e,i,n){var s=e();if(!n.postbox)throw Error("ViewModel must have a postbox to use the scrollTo binding");n.postbox.subscribe(function(){$(document).scrollTop($(t).offset().top-10)},n,s)}}}),define("state/edit",["require","exports","module","knockout","app","util/months","util/time-units","util/days-of-week","bindings/integer-value","bindings/datepicker","bindings/scroll-to"],function(t,e,i){function n(t){var e={id:t,type:r.observable(),maxPlayers:r.observable(16),serverIp:r.observable(),usingHamachi:r.observable(!1),hamachiNetwork:r.observable(),hamachiPassword:r.observable(),description:r.observable(),hostId:r.observable(),date:r.observable(s(new Date)),time:r.observable(),errors:r.observable(),saving:r.observable(!1),months:a,isLoaded:r.observable(!1),postbox:new r.subscribable},i=new Date,n=new Date(i.getTime()+l.DAY);e.backLink=r.computed(function(){return t?"/lobby/"+t:"/"},e),e.authorized=r.computed(function(){return o.currentUser()?e.hostId()?o.currentUser().id==e.hostId():o.currentUser():void 0},e),e.dateTime=r.computed({read:function(){var t=e.date()||new Date,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.time(),e.time()%1*60);return i},write:function(t){if(!t instanceof Date)throw new TypeError("Must be a date");h(t)},owner:e}),e.dateHelpText=r.computed(function(){var t=e.date().getTime()-s(new Date).getTime();return 0>t?"(in the past)":l.DAY>t?"(today)":l.DAY*2>t?"(tomorrow)":l.WEEK*2>t?"(in "+(t/l.DAY).toFixed(0)+" days)":l.MONTH>t?"(in "+(t/l.WEEK).toFixed(0)+" weeks)":"(in "+(t/l.MONTH).toFixed(0)+" months)"},e),e.timeHelpText=r.computed(function(){var t=e.dateTime().getTime()-(new Date).getTime(),i=t/l.HOUR;return 0>i?"(in the past)":.75>i?"(very soon)":1.75>i?"(in an hour)":i>24.5?void 0:"(in "+i.toFixed(0)+" hours)"}),e.dayOfWeek=r.computed(function(){return"("+u[e.dateTime().getDay()]+")"}),e.times=r.computed(function(){var t,e,i,n=[];for(t=0;24>t;t++)e=t%12,i=12>t?"am":"pm",e===0&&(e=12),e+="",n.push({text:e+":00 "+i,value:t}),n.push({text:e+":30 "+i,value:t+.5});return n}),e.deleteGame=function(){confirm("Delete this game?")&&dpd.games.del(t,function(t,e){e||o.navigate("",!0)})},e.submit=function(){var i={id:t,type:e.type(),maxPlayers:e.maxPlayers(),date:e.dateTime()+"",serverIp:e.serverIp(),usingHamachi:e.usingHamachi(),description:e.description()};i.usingHamachi&&(i.hamachiNetwork=e.hamachiNetwork,i.hamachiPassword=e.hamachiPassword),e.saving(!0),e.errors(null),dpd.games.post(i,function(t,i){if(e.saving(!1),i){var n=[];return i.message&&n.push(i.message),i.errors&&Object.keys(i.errors).forEach(function(t){n.push(i.errors[t])}),e.errors(n),e.postbox.notifySubscribers(null,"scrollToError"),void 0}o.navigate("lobby/"+t.id,!0)})};var h=function(t){t=t||e.dateTime(),e.date(s(t));var i=t.getHours()+t.getMinutes()/60;i=Math.round(i*2)/2,e.time(i)};return e.dateTime(n),t&&dpd.games.get(t,function(i,n){return n?o.navigate("lobby/"+t,!0):(e.dateTime(new Date(i.date)),Object.keys(i).forEach(function(t){t!=="date"&&typeof e[t]=="function"&&e[t](i[t])}),e.isLoaded(!0),void 0)}),e}function s(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}var r=t("knockout"),o=t("app"),a=t("util/months"),l=t("util/time-units"),u=t("util/days-of-week");t("bindings/integer-value"),t("bindings/datepicker"),t("bindings/scroll-to"),i.exports=n});var ui={};(function(t){function e(){this.callbacks={}}t.Emitter=e,e.prototype.on=function(t,e){return(this.callbacks[t]=this.callbacks[t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this.on(t,i),this},e.prototype.off=function(t,e){var i=this.callbacks[t];if(!i)return this;if(1==arguments.length)return delete this.callbacks[t],this;var n=i.indexOf(e);return i.splice(n,1),this},e.prototype.emit=function(t){var e=[].slice.call(arguments,1),i=this.callbacks[t];if(i)for(var n=0,s=i.length;s>n;++n)i[n].apply(this,e);return this}})(ui),function(t,e){function i(t){ui.Emitter.call(this),t=t||{},this.template=e,this.el=$(this.template),this.render(t),n&&!n.hiding&&n.hide(),i.effect&&this.effect(i.effect),n=this}var n;t.Dialog=i,t.dialog=function(t,e){switch(arguments.length){case 2:return new i({title:t,message:e});case 1:return new i({message:t})}},i.prototype=new ui.Emitter,i.prototype.render=function(t){var e=this.el,i=t.title,n=t.message,s=this;e.find(".close").click(function(){return s.emit("close"),s.hide(),!1}),e.find("h1").text(i),i||e.find("h1").remove(),"string"==typeof n?e.find("p").text(n):n&&e.find("p").replaceWith(n.el||n),setTimeout(function(){e.removeClass("hide")},0)},i.prototype.closable=function(){return this.el.addClass("closable"),this},i.prototype.effect=function(t){return this._effect=t,this.el.addClass(t),this},i.prototype.modal=function(){return this._overlay=ui.overlay(),this},i.prototype.overlay=function(){var t=this;return this._overlay=ui.overlay({closable:!0}).on("hide",function(){t.closedOverlay=!0,t.hide()}),this},i.prototype.escapable=function(){var t=this;$(document).bind("keydown.dialog",function(e){27==e.which&&($(this).unbind("keydown.dialog"),t.hide())})},i.prototype.show=function(){var t=this._overlay;return this.emit("show"),t&&(t.show(),this.el.addClass("modal")),(!t||t.closable)&&this.escapable(),this.el.appendTo("body"),this.el.css({marginLeft:-(this.el.width()/2)+"px"}),this.emit("show"),this},i.prototype.hide=function(t){var e=this;return this.hiding=!0,t?(setTimeout(function(){e.hide()},t),this):(this.el.addClass("hide"),this._effect?setTimeout(function(t){t.remove()},500,this):e.remove(),this._overlay&&!e.closedOverlay&&this._overlay.hide(),this)},i.prototype.remove=function(){return this.emit("hide"),this.el.remove(),this
}}(ui,'<div id="dialog" class="hide">\n  <div class="content">\n    <h1>Title</h1>\n    <a href="#" class="close">&times;</a>\n    <p>Message</p>\n  </div>\n</div>'),function(t,e){function i(t){ui.Emitter.call(this);var i=this;t=t||{},this.closable=t.closable,this.el=$(e),this.el.appendTo("body"),this.closable&&this.el.click(function(){i.hide()})}t.Overlay=i,t.overlay=function(t){return new i(t)},i.prototype=new ui.Emitter,i.prototype.show=function(){return this.emit("show"),this.el.removeClass("hide"),this},i.prototype.hide=function(){var t=this;return this.emit("hide"),this.el.addClass("hide"),setTimeout(function(){t.el.remove()},2e3),this}}(ui,'<div id="overlay" class="hide"></div>'),function(t,e){function i(t){ui.Dialog.call(this,t)}t.Confirmation=i,t.confirm=function(t,e){switch(arguments.length){case 2:return new i({title:t,message:e});case 1:return new i({message:t})}},i.prototype=new ui.Dialog,i.prototype.cancel=function(t){return this.el.find(".cancel").text(t),this},i.prototype.ok=function(t){return this.el.find(".ok").text(t),this},i.prototype.show=function(t){return ui.Dialog.prototype.show.call(this),this.el.find(".ok").focus(),this.callback=t||function(){},this},i.prototype.render=function(t){ui.Dialog.prototype.render.call(this,t);var i=this,n=$(e);this.el.addClass("confirmation"),this.el.append(n),this.on("close",function(){i.emit("cancel"),i.callback(!1)}),n.find(".cancel").click(function(t){t.preventDefault(),i.emit("cancel"),i.callback(!1),i.hide()}),n.find(".ok").click(function(t){t.preventDefault(),i.emit("ok"),i.callback(!0),i.hide()})}}(ui,'<div class="actions">\n  <button class="cancel">Cancel</button>\n  <button class="ok main">Ok</button>\n</div>'),function(t,e){function i(t,e,i){return"rgb("+t+", "+e+", "+i+")"}function n(t,e,i,n){return"rgba("+t+", "+e+", "+i+", "+n+")"}function s(t){var e=$(t.target).offset();return{x:t.pageX-e.left,y:t.pageY-e.top}}function r(){ui.Emitter.call(this),this._colorPos={},this.el=$(e),this.main=this.el.find(".main").get(0),this.spectrum=this.el.find(".spectrum").get(0),$(this.main).bind("selectstart",function(t){t.preventDefault()}),$(this.spectrum).bind("selectstart",function(t){t.preventDefault()}),this.hue(i(255,0,0)),this.spectrumEvents(),this.mainEvents(),this.w=180,this.h=180,this.render()}t.ColorPicker=r,r.prototype=new ui.Emitter,r.prototype.size=function(t){return this.width(t).height(t)},r.prototype.width=function(t){return this.w=t,this.render(),this},r.prototype.height=function(t){return this.h=t,this.render(),this},r.prototype.spectrumEvents=function(){function t(t){var e=s(t).y,n=i.hueAt(e-4);i.hue(n+""),i.emit("change",n),i._huePos=e,i.render()}var e,i=this,n=$(this.spectrum);n.mousedown(function(i){i.preventDefault(),e=!0,t(i)}),n.mousemove(function(i){e&&t(i)}),n.mouseup(function(){e=!1})},r.prototype.mainEvents=function(){function t(t){var e;i._colorPos=s(t),e=i.colorAt(i._colorPos.x,i._colorPos.y),i.color(e+""),i.emit("change",e),i.render()}var e,i=this,n=$(this.main);n.mousedown(function(i){e=!0,t(i)}),n.mousemove(function(i){e&&t(i)}),n.mouseup(function(){e=!1})},r.prototype.colorAt=function(t,e){var n=this.main.getContext("2d").getImageData(t,e,1,1).data;return{r:n[0],g:n[1],b:n[2],toString:function(){return i(this.r,this.g,this.b)}}},r.prototype.hueAt=function(t){var e=this.spectrum.getContext("2d").getImageData(0,t,1,1).data;return{r:e[0],g:e[1],b:e[2],toString:function(){return i(this.r,this.g,this.b)}}},r.prototype.color=function(t){return 0==arguments.length?this._color:(this._color=t,this)},r.prototype.hue=function(t){return 0==arguments.length?this._hue:(this._hue=t,this)},r.prototype.render=function(t){t=t||{},this.renderMain(t),this.renderSpectrum(t)},r.prototype.renderSpectrum=function(){var t=(this.el,this.spectrum),e=t.getContext("2d"),s=this._huePos,r=this.w*.12,o=this.h;t.width=r,t.height=o;var a=e.createLinearGradient(0,0,0,o);a.addColorStop(0,i(255,0,0)),a.addColorStop(.15,i(255,0,255)),a.addColorStop(.33,i(0,0,255)),a.addColorStop(.49,i(0,255,255)),a.addColorStop(.67,i(0,255,0)),a.addColorStop(.84,i(255,255,0)),a.addColorStop(1,i(255,0,0)),e.fillStyle=a,e.fillRect(0,0,r,o),s&&(e.fillStyle=n(0,0,0,.3),e.fillRect(0,s,r,1),e.fillStyle=n(255,255,255,.3),e.fillRect(0,s+1,r,1))},r.prototype.renderMain=function(){var t=(this.el,this.main),e=t.getContext("2d"),s=this.w,r=this.h,o=(this._colorPos.x||s)+.5,a=(this._colorPos.y||0)+.5;t.width=s,t.height=r;var l=e.createLinearGradient(0,0,s,0);l.addColorStop(0,i(255,255,255)),l.addColorStop(1,this._hue),e.fillStyle=l,e.fillRect(0,0,s,r),l=e.createLinearGradient(0,0,0,r),l.addColorStop(0,n(255,255,255,0)),l.addColorStop(1,n(0,0,0,1)),e.fillStyle=l,e.fillRect(0,0,s,r);var u=10;e.save(),e.beginPath(),e.lineWidth=1,e.strokeStyle=n(0,0,0,.5),e.arc(o,a,u/2,0,Math.PI*2,!1),e.stroke(),e.strokeStyle=n(255,255,255,.5),e.arc(o,a,u/2-1,0,Math.PI*2,!1),e.stroke(),e.beginPath(),e.restore()}}(ui,'<div class="color-picker">\n  <canvas class="main"></canvas>\n  <canvas class="spectrum"></canvas>\n</div>'),function(t,e){function i(e){return function(){return t.notify.apply(this,arguments).type(e)}}function n(t){ui.Emitter.call(this),t=t||{},this.template=e,this.el=$(this.template),this.render(t),n.effect&&this.effect(n.effect)}var s;t.Notification=n,$(function(){s=$('<ul id="notifications">'),s.appendTo("body")}),t.notify=function(t,e){switch(arguments.length){case 2:return new n({title:t,message:e}).show().hide(4e3);case 1:return new n({message:t}).show().hide(4e3)}},t.info=t.notify,t.warn=i("warn"),t.error=i("error"),n.prototype=new ui.Emitter,n.prototype.render=function(t){var e=this.el,i=t.title,n=t.message,s=this;e.find(".close").click(function(){return s.hide(),!1}),e.click(function(t){t.preventDefault(),s.emit("click",t)}),e.find("h1").text(i),i||e.find("h1").remove(),"string"==typeof n?e.find("p").text(n):n&&e.find("p").replaceWith(n.el||n),setTimeout(function(){e.removeClass("hide")},0)},n.prototype.closable=function(){return this.el.addClass("closable"),this},n.prototype.effect=function(t){return this._effect=t,this.el.addClass(t),this},n.prototype.show=function(){return this.el.appendTo(s),this},n.prototype.type=function(t){return this._type=t,this.el.addClass(t),this},n.prototype.sticky=function(){return this.hide(0).closable()},n.prototype.hide=function(t){var e=this;return"number"==typeof t?(clearTimeout(this.timer),t?(this.timer=setTimeout(function(){e.hide()},t),this):this):(this.el.addClass("hide"),this._effect?setTimeout(function(t){t.remove()},500,this):e.remove(),this)},n.prototype.remove=function(){return this.el.remove(),this}}(ui,'<li class="notification hide">\n  <div class="content">\n    <h1>Title</h1>\n    <a href="#" class="close">&times;</a>\n    <p>Message</p>\n  </div>\n</li>'),function(t,e){function i(t){ui.Emitter.call(this),this.el=$(e),this.events(),this.render({label:t}),this.state="hidden"}t.SplitButton=i,i.prototype=new ui.Emitter,i.prototype.events=function(){var t=this,e=this.el;e.find(".button").click(function(e){e.preventDefault(),t.emit("click",e)}),e.find(".toggle").click(function(e){e.preventDefault(),t.toggle()})},i.prototype.toggle=function(){return"hidden"==this.state?this.show():this.hide()},i.prototype.show=function(){return this.state="visible",this.emit("show"),this.el.addClass("show"),this},i.prototype.hide=function(){return this.state="hidden",this.emit("hide"),this.el.removeClass("show"),this},i.prototype.render=function(t){var t=t||{},e=this.el.find(".button"),i=t.label;return"string"==i?e.text(i):e.text("").append(i),this}}(ui,'<div class="split-button">\n  <a class="button" href="#">Action</a>\n  <a class="toggle" href="#"><span></span></a>\n</div>'),function(t,e){function i(){ui.Emitter.call(this),this.items={},this.el=$(e).hide().appendTo("body"),this.el.hover(this.deselect.bind(this)),$("html").click(this.hide.bind(this)),this.on("show",this.bindKeyboardEvents.bind(this)),this.on("hide",this.unbindKeyboardEvents.bind(this))}function n(t){return t.toLowerCase().replace(/ +/g,"-").replace(/[^a-z0-9-]/g,"")}t.Menu=i,t.menu=function(){return new i},i.prototype=new ui.Emitter,i.prototype.deselect=function(){this.el.find(".selected").removeClass("selected")},i.prototype.bindKeyboardEvents=function(){return $(document).bind("keydown.menu",this.onkeydown.bind(this)),this},i.prototype.unbindKeyboardEvents=function(){return $(document).unbind("keydown.menu"),this},i.prototype.onkeydown=function(t){switch(t.keyCode){case 38:t.preventDefault(),this.move("prev");break;case 40:t.preventDefault(),this.move("next")}},i.prototype.move=function(t){var e=this.el.find(".selected").eq(0),i=e.length?e[t]():this.el.find("li:first-child");i.length&&(e.removeClass("selected"),i.addClass("selected"),i.find("a").focus())},i.prototype.add=function(t,e){var i=this,s=$('<li><a href="#">'+t+"</a></li>").addClass(n(t)).appendTo(this.el).click(function(n){n.preventDefault(),n.stopPropagation(),i.hide(),i.emit(t),e&&e()});return this.items[t]=s,this},i.prototype.remove=function(t){var e=this.items[t];if(!e)throw Error('no menu item named "'+t+'"');return this.emit("remove",t),e.remove(),delete this.items[t],this},i.prototype.has=function(t){return!!this.items[t]},i.prototype.moveTo=function(t,e){return this.el.css({top:e,left:t}),this},i.prototype.show=function(){return this.emit("show"),this.el.show(),this},i.prototype.hide=function(){return this.emit("hide"),this.el.hide(),this}}(ui,'<div class="menu">\n</div>'),function(t,e){function i(t,i){ui.Emitter.call(this),this._front=t||$("<p>front</p>"),this._back=i||$("<p>back</p>"),this.template=e,this.render()}t.Card=i,t.card=function(t,e){return new i(t,e)},i.prototype=new ui.Emitter,i.prototype.front=function(t){return this._front=t,this.render(),this},i.prototype.back=function(t){return this._back=t,this.render(),this},i.prototype.flip=function(){return this.emit("flip"),this.el.toggleClass("flipped"),this},i.prototype.effect=function(t){return this.el.addClass(t),this},i.prototype.render=function(){var t=this,e=this.el=$(this.template);e.find(".front").empty().append(this._front.el||$(this._front)),e.find(".back").empty().append(this._back.el||$(this._back)),e.click(function(){t.flip()})}}(ui,'<div class="card">\n  <div class="wrapper">\n    <div class="face front">1</div>\n    <div class="face back">2</div>\n  </div>\n</div>'),define("uikit",function(t){return function(){var e;return e||t.ui}}(this)),define("bindings/scroll-to-end",["require","exports","module","knockout"],function(t){function e(t,e){var i,n,s=t.innerHeight(),r=t.scrollTop();i=t.children().get().reduce(function(t,e){return t+$(e).outerHeight(!0)},0),n=t.children().last().outerHeight(!0),(e||r>=i-s-n-10)&&t.scrollTop(Math.max(i-s,0))}var i=t("knockout");i.bindingHandlers.scrollToEnd={init:function(t,i,n,s){var r=i();if(!s.postbox)throw Error("ViewModel must have a postbox to use the scrollTo binding");s.postbox.subscribe(function(i){e($(t),i)},s,r)}}}),define("state/lobby",["require","exports","module","knockout","knockout-mapping","util/date-formats","util/time-units","app","uikit","bindings/scroll-to-end"],function(t,e,i){function n(t){function e(){dpd.lobbymessages.get({gameId:c.id},function(t){c.messages(t),setTimeout(function(){c.postbox.notifySubscribers(!0,"chatScroll")},1)})}function i(){c.notFound(null),dpd.games.get(t,function(t,e){return e?c.notFound(!0):(r.fromJS(t,h,c),c.loaded(!0),void 0)})}var n=!0,h={copy:["id"],players:{copy:["id"],key:function(t){return s.utils.unwrapObservable(t.id)}}},c={id:t,date:s.observable(),description:s.observable(""),players:s.observableArray(),hostId:s.observable(),serverIp:s.observable(),usingHamachi:s.observable(),hamachiNetwork:s.observable(),hamachiPassword:s.observable(),now:s.observable(new Date),loaded:s.observable(!1),saveLoading:s.observable(!1),notFound:s.observable(!1),messageText:s.observable(),messages:s.observableArray(),menuPlayer:s.observable(),postbox:new s.subscribable};c.isNightTime=s.computed(function(){var t=new Date(c.date());return t.getHours()>18||6>t.getHours}),c.htmlDescription=s.computed(function(){return c.description().replace(/\n/g,"<br />\n")}),c.playerCount=s.computed(function(){return c.players().length+1}),c.countdown=s.computed(function(){return o.countdown(new Date(c.date()),c.now())},c),c.fullTime=s.computed(function(){return o.full(new Date(c.date()))},c),c.isHost=s.computed(function(){return l.currentUser()&&c.hostId()==l.currentUser().id}),c.isPlaying=s.computed(function(){return c.isHost()||l.currentUser()&&c.players().some(function(t){return t.id()===l.currentUser().id})}),c.hasServerInfo=s.computed(function(){return c.serverIp()||c.usingHamachi()}),dpd.on("game:"+c.id+":kicked",function(t){n&&l.currentUser()&&t.playerId===l.currentUser().id&&alert("You have been kicked from this game")}),dpd.on("game:"+c.id+":message",function(t){c.messages.push(t),setTimeout(function(){c.postbox.notifySubscribers(!1,"chatScroll")},1)}),dpd.on("game:"+c.id+":message:delete",function(t){for(var e,i=c.messages(),n=0;i.length>n;n++)if(i[n].id===t.id){e=i[n];break}e&&c.messages.remove(e)}),s.computed(function(){c.isPlaying()?e():c.messages([])},c),c.join=function(){c.saveLoading(!0),dpd.joingame.post(c.id,function(){c.saveLoading(!1)})},c.leave=function(){c.saveLoading(!0),dpd.leavegame.post(c.id,function(){c.saveLoading(!1)})},c.deleteGame=function(){confirm("Delete this game?")&&dpd.games.del(t,function(t,e){e||l.navigate("",!0)})},c.submitMessage=function(){c.isPlaying()&&dpd.lobbymessages.post({gameId:c.id,message:c.messageText()},function(t,e){e||c.messageText("")})};var d=u.menu();d.add("Kick",function(){c.kickPlayer(c.menuPlayer())}),d.on("hide",function(){setTimeout(function(){c.menuPlayer(null)},1)}),c.showBanMenu=function(t,e){setTimeout(function(){c.menuPlayer(t),d.moveTo(e.pageX,e.pageY).show()},10),e.preventDefault()},c.kickPlayer=function(e){e&&dpd.kickplayer.post(e.id(),{game:t})},i(),dpd.games.on("update",function(e){e.id===t&&r.fromJS(e,h,c)}),dpd.games.on("remove",function(e){n&&e.id===t&&(c.notFound(!0),c.loaded(!1),n=!1)});var p=setInterval(function(){c.now(new Date)},a.SECOND);return c._close=function(){clearInterval(p),n=!1},c}var s=t("knockout"),r=t("knockout-mapping"),o=t("util/date-formats"),a=t("util/time-units"),l=t("app"),u=t("uikit");t("bindings/scroll-to-end"),i.exports=n}),define("router",["require","exports","module","backbone","app","state/index","state/register","state/edit","state/lobby"],function(t,e,i){var n=t("backbone"),s=t("app"),r=t("state/index"),o=t("state/register"),a=t("state/edit"),l=t("state/lobby"),u=n.Router.extend({routes:{"":"index",register:"register",create:"create","lobby/:id":"lobby","edit/:id":"edit","*fallback":"fallback"},index:function(){s.setPage("index",r())},register:function(){s.setPage("register",o())},create:function(){s.setPage("edit",a())},lobby:function(t){s.setPage("lobby",l(t))},edit:function(t){s.setPage("edit",a(t))},fallback:function(){this.navigate("",{trigger:!0})}});i.exports=u}),define("loading",["require","exports","module"],function(t,e){function i(){n>0?$("body").addClass("loading"):$("body").removeClass("loading")}var n=0;e.add=function(){n++,i()},e.remove=function(){n--,i()}}),define("state/login",["require","exports","module","knockout","app","loading"],function(t,e){var i=t("knockout"),n=t("app"),s=(t("loading"),e);s.username=i.observable(),s.password=i.observable(),s.loading=i.observable(!1),s.error=i.observable(),s.login=function(){var t={username:s.username(),password:s.password()};s.error(null),s.loading(!0),dpd.users.login(t,function(t,e){return e?(s.loading(!1),s.error(e.message),void 0):(s.username(null),s.password(null),dpd.users.me(function(t){s.loading(!1),n.currentUser(t)}),void 0)})}}),define("state/user-sidebar",["require","exports","module","knockout","knockout-mapping","app","./game-listing"],function(t,e){function i(){return o.currentUser()?(dpd.games.get({$or:[{hostId:o.currentUser().id},{playerIds:o.currentUser().id}],$sort:{timeMillis:1}},function(t){r.fromJS({games:t},u,l)}),void 0):l.games([])}function n(t){if(!o.currentUser())return l.games([]);var e=o.currentUser().id;(t.hostId===e||t.playerIds&&t.playerIds.some(function(t){return t===e})||l.games().some(function(e){return e.id===t.id}))&&i()}var s=t("knockout"),r=t("knockout-mapping"),o=t("app"),a=t("./game-listing"),l=e,u={games:{copy:["id"],create:function(t){return a(t.data,l.now)},key:function(t){return s.utils.unwrapObservable(t.id)}}};l.games=s.observableArray(),l.now=s.observable(new Date),l.logout=function(){return dpd.users.logout(function(t,e){e||o.currentUser(null)}),!1},l.init=function(){i(),o.currentUser.subscribe(function(){i()}),dpd.games.on("update",n),dpd.games.on("create",n),dpd.games.on("remove",n),setInterval(function(){l.now=s.observable(new Date)},1e3)}}),define("app",["require","exports","module","knockout","router","state/login","state/user-sidebar"],function(t,e){var i=t("knockout"),n=t("router"),s=t("state/login"),r=t("state/user-sidebar"),o=e;o.currentPage=i.observable("index"),o.pageState=i.observable(),o.currentUser=i.observable(),o.loginState=s,o.setPage=function(t,e){var i=o.pageState();e=e||{},i&&typeof i._close=="function"&&i._close(),o.pageState(null),o.currentPage(t),o.pageState(e)},o.start=function(){o.userSidebarState=r,r.init(),Backbone.history.start({pushState:!0}),Backbone.history&&Backbone.history._hasPushState&&$(document).delegate("a","click",function(t){var e=$(this).attr("href"),i=this.protocol+"//";e&&e.slice(i.length)!==i&&e.indexOf("#")!==0&&!$(this).is(".literal-link")&&(t.preventDefault(),Backbone.history.navigate(e,!0))})},o.navigate=function(){o.router.navigate.apply(o.router,arguments)},o.isTwoColumn=i.computed(function(){return o.currentPage()!=="register"},o),o.router=new n}),require.config({baseUrl:"/js",paths:{knockout:"lib/knockout-2.1.0","knockout-mapping":"lib/knockout.mapping-latest",underscore:"lib/underscore-min",backbone:"lib/backbone-min","jquery-ui":"lib/jquery-ui-1.8.23.custom.min",uikit:"lib/ui"},shim:{underscore:{exports:"_"},backbone:{deps:["underscore"],exports:"Backbone"},uikit:{exports:"ui"}}}),define("entry",["require","exports","module","knockout","app","router"],function(t){var e=t("knockout"),i=t("app");t("router"),dpd.users.me(function(t){i.currentUser(t),i.start(),$("#app-container").show(),$("body").removeClass("loading"),e.applyBindings(i)})})